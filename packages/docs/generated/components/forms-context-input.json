{
  "slug": "forms/context-input",
  "title": "ContextInput",
  "package": {
    "name": "@choice-ui/context-input",
    "version": "0.0.9",
    "description": "A rich text input component with context-aware suggestions, mentions, and inline editing capabilities",
    "dependencies": {
      "@choice-ui/combobox": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/icon-button": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/scroll-area": "workspace:*",
      "slate": "^0.120.0",
      "slate-history": "^0.113.1",
      "slate-react": "^0.120.0",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "ContextInput",
    "InsertMentionsButton",
    "CopyButton",
    "useContextInput",
    "useMentions",
    "useContextInputEditor",
    "shouldInsertSpaceBefore",
    "shouldInsertSpaceAfter",
    "insertSpaceBeforeIfNeeded",
    "insertSpaceAfterIfNeeded",
    "insertWithSmartSpacing",
    "convertSlateToText",
    "convertTextToSlate",
    "convertTextToSlateWithResolver",
    "extractTextWithMentions",
    "parseTextWithMentions",
    "extractMentionContext",
    "type ContextInputProps",
    "type ContextInputValue",
    "type ContextMentionElement",
    "type ContextInputRef",
    "type ContextMentionProps",
    "type ContextMentionItemProps",
    "type ContextMentionTrigger"
  ],
  "props": [
    {
      "displayName": "ContextInputHeader",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handleClick",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "ContextInputFooter",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handleClick",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "CopyButton",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"reset\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": ""
        },
        {
          "name": "onClick",
          "type": "((copiedText: string) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "as",
          "type": "ElementType<any, keyof IntrinsicElements> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "active",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "asChild",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "loading",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"dark\" | \"reset\" | \"secondary\" | \"solid\" | \"highlight\" | \"ghost\"",
          "required": false,
          "description": ""
        },
        {
          "name": "successDuration",
          "type": "number | undefined",
          "required": false,
          "defaultValue": "2000",
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLElement | null) => void) | RefObject<HTMLElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "MentionMenu",
      "description": "",
      "props": [
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onSelect",
          "type": "(mention: ContextMentionItemProps, index: number) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "loading",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "isOpen",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "onClose",
          "type": "() => void",
          "required": true,
          "description": ""
        },
        {
          "name": "position",
          "type": "MentionMenuPosition | null",
          "required": true,
          "description": ""
        },
        {
          "name": "renderSuggestion",
          "type": "((item: ContextMentionItemProps, isSelected: boolean) => ReactNode) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "root",
          "type": "HTMLElement | null | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "suggestions",
          "type": "ContextMentionItemProps[]",
          "required": true,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: MentionMenuRef | null) => void) | RefObject<MentionMenuRef> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "SlateEditor",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "\"default\" | \"large\"",
          "required": true,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": ""
        },
        {
          "name": "maxLength",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "placeholder",
          "type": "string | undefined",
          "required": false,
          "defaultValue": "Type someone...",
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": ""
        },
        {
          "name": "autoFocus",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": ""
        },
        {
          "name": "onCompositionEnd",
          "type": "((event: CompositionEvent<Element>) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onCompositionStart",
          "type": "((event: CompositionEvent<Element>) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onFocus",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onBlur",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "(value: Descendant[]) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "onKeyDown",
          "type": "(event: KeyboardEvent<Element>) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\" | \"reset\"",
          "required": false,
          "defaultValue": "default",
          "description": ""
        },
        {
          "name": "renderMention",
          "type": "((mention: MentionMatch) => ReactNode) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "mentionPrefix",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "customMentionComponent",
          "type": "ComponentType<ContextMentionProps> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "editor",
          "type": "ReactEditor",
          "required": true,
          "description": ""
        },
        {
          "name": "footer",
          "type": "ReactNode",
          "required": false,
          "description": ""
        },
        {
          "name": "hasFooter",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "hasHeader",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "minHeight",
          "type": "number",
          "required": false,
          "defaultValue": "80",
          "description": ""
        },
        {
          "name": "slateValue",
          "type": "Descendant[]",
          "required": true,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "ContextMentionElement",
      "description": "",
      "props": [
        {
          "name": "mentionPrefix",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "renderMention",
          "type": "((mention: MentionMatch) => ReactNode) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\" | \"reset\"",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useMentions",
      "description": "",
      "props": [
        {
          "name": "editor",
          "type": "ContextEditor",
          "required": true,
          "description": ""
        },
        {
          "name": "maxSuggestions",
          "type": "number | undefined",
          "required": false,
          "defaultValue": "10",
          "description": ""
        },
        {
          "name": "mentionPrefix",
          "type": "string | undefined",
          "required": false,
          "defaultValue": "@",
          "description": ""
        },
        {
          "name": "onMentionSelect",
          "type": "((mention: ContextMentionItemProps, trigger: string) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onSearchClose",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "triggers",
          "type": "ContextMentionTrigger[]",
          "required": true,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useSlateEditor",
      "description": "",
      "props": []
    },
    {
      "displayName": "useContextInput",
      "description": "",
      "props": [
        {
          "name": "autoFocus",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "editor",
          "type": "ContextEditor | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: ContextInputValue) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "ContextInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "ContextInputProps",
      "description": "Context lets components pass information deep down without explicitly\npassing props.\n\nCreated from {@link createContext}",
      "props": []
    },
    {
      "displayName": "convertSlateToText",
      "description": "Convert SlateJS node array to string\nMention nodes are converted to {{#context#}}{{#id.text#}} format",
      "props": []
    },
    {
      "displayName": "convertTextToSlate",
      "description": "Convert string to SlateJS node array\nSupports parsing {{#context#}}{{#id.text#}} format to mention nodes",
      "props": []
    },
    {
      "displayName": "convertTextToSlateWithResolver",
      "description": "Advanced version: supports async mention info resolution",
      "props": []
    },
    {
      "displayName": "extractTextWithMentions",
      "description": "",
      "props": []
    },
    {
      "displayName": "shouldInsertSpaceBefore",
      "description": "Check if a space should be inserted before the current position",
      "props": []
    },
    {
      "displayName": "shouldInsertSpaceAfter",
      "description": "Check if a space should be inserted after the current position",
      "props": []
    },
    {
      "displayName": "insertSpaceBeforeIfNeeded",
      "description": "Smartly insert space at current position (leading space)",
      "props": []
    },
    {
      "displayName": "insertSpaceAfterIfNeeded",
      "description": "Smartly insert space at current position (trailing space)",
      "props": []
    },
    {
      "displayName": "insertWithSmartSpacing",
      "description": "Insert smart spacing for mention\nThis function intelligently adds spaces before/after mention insertion based on context",
      "props": []
    }
  ],
  "stories": [
    {
      "id": "forms-contextinput--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "Basic: Simple context input with user mentions using @ trigger.\n- Type @ to search and mention users\n- Arrow keys navigation and Enter/Tab to select\n- Returns structured data with text and mention metadata\n- Real-time search filtering\n\n```tsx\nconst [value, setValue] = useState({ text: \"\", mentions: [] })\n\n<ContextInput\n  value={value}\n  placeholder=\"Type @ to mention someone...\"\n  triggers={[{\n    char: \"@\",\n    onSearch: async (query) => {\n      return users.filter(user =>\n        user.label.toLowerCase().includes(query.toLowerCase())\n      )\n    }\n  }]}\n  onChange={setValue}\n  onMentionSelect={(mention, trigger) => {\n    console.log(\"Selected:\", mention, trigger)\n  }}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--disabled",
      "name": "Disabled",
      "exportName": "Disabled",
      "description": "Disabled: Shows context input in disabled state.\n- All interactions are prevented\n- Visual styling indicates disabled state\n- Useful for read-only scenarios or conditional editing\n\n```tsx\n<ContextInput\n  disabled\n  value={value}\n  placeholder=\"This input is disabled...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"Hello @alice and @bob!\",\n    mentions: [\n      {\n        item: { id: \"1\", label: \"alice\", type: \"user\" },\n        startIndex: 6,\n        endIndex: 12,\n        text: \"alice\",\n      },\n      {\n        item: { id: \"2\", label: \"bob\", type: \"user\" },\n        startIndex: 17,\n        endIndex: 21,\n        text: \"bob\",\n      },\n    ],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        disabled\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--read-only",
      "name": "Read Only",
      "exportName": "ReadOnly",
      "description": "ReadOnly: Demonstrates the ContextInput component in readOnly mode.\n- Prevents value changes while allowing focus and selection\n- Maintains normal visual appearance (unlike disabled)\n- Useful for displaying non-editable context input information",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"Hello @alice and @bob!\",\n    mentions: [\n      {\n        item: { id: \"1\", label: \"alice\", type: \"user\" },\n        startIndex: 6,\n        endIndex: 12,\n        text: \"alice\",\n      },\n      {\n        item: { id: \"2\", label: \"bob\", type: \"user\" },\n        startIndex: 17,\n        endIndex: 21,\n        text: \"bob\",\n      },\n    ],\n  })\n\n  const handleChange = (newValue: ContextInputValue) => {\n    setValue(newValue)\n  }\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        readOnly\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={handleChange}\n      />\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--variants",
      "name": "Variants",
      "exportName": "Variants",
      "description": "Variants: Demonstrates different visual variants of the context input component.\n- default: Follows the page theme dynamically (light/dark mode)\n- light: Fixed light appearance regardless of theme\n- dark: Fixed dark appearance regardless of theme\n- reset: Removes variant styling, no Variant settings applied\n\n```tsx\n<ContextInput\n  variant=\"default\" // Adapts to current theme\n  value={value}\n  placeholder=\"Type @ to mention...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [defaultValue, setDefaultValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const [lightValue, setLightValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const [darkValue, setDarkValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const [disabled, setDisabled] = useState(false)\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <Checkbox\n        value={disabled}\n        onChange={(value) => setDisabled(value)}\n      >\n        Disabled\n      </Checkbox>\n      <div className=\"flex flex-wrap gap-4\">\n        <div className=\"bg-default-background rounded-lg border p-4\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"default\"\n            value={defaultValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-48\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase()),\n                  )\n                },\n              },\n            ]}\n            onChange={setDefaultValue}\n            onMentionSelect={(mention, trigger) => {\n              console.log(\"Mention selected:\", mention, trigger)\n            }}\n          />\n        </div>\n        <div className=\"rounded-lg border bg-white p-4\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"light\"\n            value={lightValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-48\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase()),\n                  )\n                },\n              },\n            ]}\n            onChange={setLightValue}\n            onMentionSelect={(mention, trigger) => {\n              console.log(\"Mention selected:\", mention, trigger)\n            }}\n          />\n        </div>\n        <div className=\"rounded-lg border bg-gray-800 p-4\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"dark\"\n            value={darkValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-48\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase()),\n                  )\n                },\n              },\n            ]}\n            onChange={setDarkValue}\n          />\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--large-size",
      "name": "Large Size",
      "exportName": "LargeSize",
      "description": "Large: Context input with large size variant.\n- Increased padding and font size\n- Better for prominent input areas\n- More comfortable for extended typing\n\n```tsx\n<ContextInput\n  size=\"large\"\n  value={value}\n  placeholder=\"Large size input...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        size=\"large\"\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--min-height",
      "name": "Min Height",
      "exportName": "MinHeight",
      "description": "MinHeight: Context input with custom minimum height.\n- Set minHeight prop to control initial height\n- Useful for ensuring consistent layout\n- Input will grow beyond minHeight if needed\n\n```tsx\n<ContextInput\n  minHeight={128}\n  size=\"large\"\n  value={value}\n  placeholder=\"Min height 128px...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        minHeight={128}\n        size=\"large\"\n        value={value}\n        placeholder=\"Min height 128\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--with-header",
      "name": "With Header",
      "exportName": "WithHeader",
      "description": "WithHeader: Context input with custom header section.\n- Header section automatically inherits size prop\n- Useful for titles, actions, or additional controls\n- Header content can include buttons and text\n\n```tsx\n<ContextInput value={value} onChange={setValue}>\n  <ContextInput.Header>\n    <h3>Header Title</h3>\n    <IconButton>\n      <ExpandSmall />\n    </IconButton>\n  </ContextInput.Header>\n</ContextInput>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"Hello world, this is a sample message with header.\",\n    mentions: [],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        size=\"large\"\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      >\n        <ContextInput.Header>\n          <h3 className=\"font-strong\">Header</h3>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ExpandSmall />\n          </IconButton>\n        </ContextInput.Header>\n      </ContextInput>\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--with-footer",
      "name": "With Footer",
      "exportName": "WithFooter",
      "description": "WithFooter: Context input with custom footer section.\n- Footer section automatically inherits size prop\n- Ideal for action buttons, status indicators, or character counts\n- Supports complex footer layouts\n\n```tsx\n<ContextInput value={value} onChange={setValue}>\n  <ContextInput.Footer>\n    <div className=\"flex gap-2\">\n      <IconButton><AddSmall /></IconButton>\n      <IconButton><Image /></IconButton>\n    </div>\n    <span>Status text</span>\n  </ContextInput.Footer>\n</ContextInput>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const inputRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <ContextInput\n      size=\"large\"\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10))\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger)\n      }}\n    >\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-secondary-foreground\">Claude Sonnet 4</span>\n          <IconButton\n            className=\"bg-accent-background text-on-accent-foreground hover:bg-accent-background rounded-full\"\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ArrowUp />\n          </IconButton>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--max-length",
      "name": "Max Length",
      "exportName": "MaxLength",
      "description": "MaxLength: Context input with character limit enforcement.\n- Set maxLength prop to limit input characters\n- Prevents typing/pasting beyond the limit\n- Character count display shows current/max length\n- Visual indicator when approaching limit\n\n```tsx\n<ContextInput\n  maxLength={100}\n  value={value}\n  onChange={setValue}\n>\n  <ContextInput.Footer>\n    <span className={value.text.length === 100 ? \"text-red-500\" : \"\"}>\n      {value.text.length}/100\n    </span>\n  </ContextInput.Footer>\n</ContextInput>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const inputRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <ContextInput\n      size=\"large\"\n      maxLength={100}\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10))\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger)\n      }}\n    >\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span\n            className={tcx(\n              value.text.length === 100 ? \"text-danger-foreground\" : \"text-secondary-foreground\",\n            )}\n          >\n            {value.text.length}/100\n          </span>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--max-suggestions",
      "name": "Max Suggestions",
      "exportName": "MaxSuggestions",
      "description": "MaxSuggestions: Context input with limited suggestion count.\n- Set maxSuggestions prop to limit displayed options\n- Useful for keeping suggestion lists manageable\n- Search results are truncated to the specified limit\n\n```tsx\n<ContextInput\n  maxSuggestions={3}\n  value={value}\n  placeholder=\"Max 3 suggestions\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const inputRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <ContextInput\n      size=\"large\"\n      maxSuggestions={3}\n      ref={inputRef}\n      value={value}\n      placeholder=\"Max suggestions 3\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10))\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger)\n      }}\n    />\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--with-header-and-footer",
      "name": "With Header And Footer",
      "exportName": "WithHeaderAndFooter",
      "description": "WithHeaderAndFooter: Context input with both header and footer sections.\n- Combines header and footer functionality\n- Both sections inherit size prop automatically\n- Includes built-in copy and mention insert buttons\n- Perfect for complex input scenarios\n\n```tsx\n<ContextInput value={value} onChange={setValue}>\n  <ContextInput.Header>\n    <h3>Title</h3>\n    <div className=\"flex gap-2\">\n      <ContextInput.InsertMentionsButton />\n      <ContextInput.CopyButton />\n    </div>\n  </ContextInput.Header>\n  <ContextInput.Footer>\n    <div>Footer content</div>\n  </ContextInput.Footer>\n</ContextInput>\n```",
      "source": "import { ContextInput, InsertMentionsButton, CopyButton } from \"@choice-ui/context-input\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n  const inputRef = useRef<HTMLDivElement>(null)\n\n  return (\n    <ContextInput\n      size=\"large\"\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10))\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger)\n      }}\n    >\n      <ContextInput.Header>\n        <h3>Header</h3>\n        <div className=\"flex items-center gap-2\">\n          <ContextInput.InsertMentionsButton\n            tooltip={{\n              content: \"Insert @\",\n            }}\n            onClick={() => console.log(\"Insert @ clicked\")}\n          />\n          <ContextInput.CopyButton\n            tooltip={{\n              content: \"Copy\",\n            }}\n            onClick={(copiedText) => {\n              console.log(\"Copied text:\", copiedText)\n            }}\n          />\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ExpandSmall />\n          </IconButton>\n        </div>\n      </ContextInput.Header>\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-secondary-foreground\">Claude Sonnet 4</span>\n          <IconButton\n            className=\"bg-accent-background text-on-accent-foreground hover:bg-accent-background rounded-full\"\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ArrowUp />\n          </IconButton>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--with-paste-button",
      "name": "With Paste Button",
      "exportName": "WithPasteButton",
      "description": "WithPasteButton: Context input with copy button functionality.\n- Copy button extracts text including mention placeholders\n- Demonstrates format conversion for external use\n- Integration with AlertDialog for confirmation\n- Shows mention data transformation\n\n```tsx\n<ContextInput value={value} onChange={setValue}>\n  <ContextInput.Header>\n    <h3>Input content</h3>\n    <ContextInput.CopyButton\n      onClick={(copiedText) => {\n        console.log(\"Copied:\", copiedText)\n      }}\n    />\n  </ContextInput.Header>\n</ContextInput>\n```",
      "source": "import { ContextInput, CopyButton } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const mockSlateNodes = [\n    {\n      type: \"paragraph\",\n      children: [\n        { text: \"Hello \" },\n        {\n          type: \"mention\",\n          mentionId: \"1739416889031\",\n          mentionLabel: \"John Doe\",\n          mentionType: \"user\",\n          mentionData: {},\n          children: [{ text: \"\" }],\n        },\n        { text: \" and welcome!\" },\n      ],\n    },\n  ]\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.\",\n    mentions: [\n      {\n        startIndex: 6,\n        endIndex: 13,\n        text: \"John Doe\",\n        item: {\n          id: \"1739416889031\",\n          type: \"user\",\n          label: \"John Doe\",\n        },\n      },\n    ],\n  })\n\n  const [copiedText, setCopiedText] = useState<string>(\"\")\n\n  return (\n    <div className=\"w-full max-w-md space-y-4\">\n      <ContextInput\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      >\n        <ContextInput.Header>\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"font-strong\">Input content</h3>\n            <ContextInput.CopyButton\n              onClick={async (copiedText) => {\n                setCopiedText(copiedText)\n              }}\n            />\n          </div>\n        </ContextInput.Header>\n      </ContextInput>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--multiple-triggers",
      "name": "Multiple Triggers",
      "exportName": "MultipleTriggers",
      "description": "MultipleTriggers: Context input with multiple mention triggers.\n- Use @ to mention users and / to mention channels\n- Different search functions for each trigger type\n- Demonstrates versatile mention system\n- Use arrow keys to navigate suggestions\n- Press Enter or Tab to select\n\n```tsx\n<ContextInput\n  value={value}\n  placeholder=\"Try @ for users, / for channels...\"\n  triggers={[\n    {\n      char: \"@\",\n      onSearch: async (query) => searchUsers(query)\n    },\n    {\n      char: \"/\",\n      onSearch: async (query) => searchChannels(query)\n    }\n  ]}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  return (\n    <ContextInput\n      className=\"max-h-96 w-80\"\n      value={value}\n      placeholder=\"Try @ for users, / for channels...\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n        {\n          char: \"/\",\n          onSearch: async (query) => {\n            return channels.filter((channel) =>\n              channel.label.toLowerCase().includes(query.toLowerCase()),\n            )\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Selected:\", mention.label, \"via\", trigger)\n      }}\n    />\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--custom-mention-prefix",
      "name": "Custom Mention Prefix",
      "exportName": "CustomMentionPrefix",
      "description": "CustomMentionPrefix: Demonstrates customizable mention prefix.\n- Use # instead of @ for mentions display\n- Configurable via mentionPrefix prop\n- Supports any string as prefix (e.g., \"+\", \"~\", \"#\", etc.)\n- Useful for different contexts like hashtags or custom notations\n- Mentions will appear as `#JohnDoe` instead of `@JohnDoe`\n\n```tsx\n<ContextInput\n  mentionPrefix=\"#\"\n  placeholder=\"Type @ to mention with # prefix...\"\n  triggers={[\n    {\n      char: \"@\",\n      onSearch: async (query) => searchUsers(query)\n    }\n  ]}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <ContextInput\n        value={value}\n        mentionPrefix=\"#\"\n        placeholder=\"Type @ to mention someone with # prefix...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--clear-function-test",
      "name": "Clear Function Test",
      "exportName": "ClearFunctionTest",
      "description": "ClearFunctionTest: Test the clear function of the context input.\n- Click the clear button to clear the input\n- The input should be cleared and the value should be an empty object\n- Demonstrates programmatic clearing of content and mentions\n\n```tsx\nconst handleClear = () => {\n  setValue({ text: \"\", mentions: [] })\n}\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  const handleClear = () => {\n    setValue({ text: \"\", mentions: [] })\n  }\n\n  return (\n    <div className=\"w-80 space-y-4\">\n      <Button\n        variant=\"secondary\"\n        onClick={handleClear}\n      >\n        Clear\n      </Button>\n\n      <ContextInput\n        className=\"max-h-96 w-80 rounded-lg border border-gray-300\"\n        value={value}\n        placeholder=\"Input some content and click the clear button to test...\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n          {\n            char: \"/\",\n            onSearch: async (query) => {\n              return channels.filter((channel) =>\n                channel.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--controlled-value",
      "name": "Controlled Value",
      "exportName": "ControlledValue",
      "description": "ControlledValue: Context input with external value control.\n- Demonstrates controlled value state management\n- External buttons can modify input content and mentions\n- Shows programmatic content insertion and clearing\n- Auto-focuses editor when value changes externally (when autoFocus is enabled)\n- Cursor always moves to end position after value changes\n- Useful for form integration and external state management\n- Real-time character and mention counts\n- Preset content examples for quick testing\n- Full bidirectional data binding\n\n```tsx\nconst [value, setValue] = useState<ContextInputValue>({ text: \"\", mentions: [] })\n\n<ContextInput\n  value={value}\n  autoFocus\n  onChange={setValue}\n  triggers={triggers}\n/>\n\n<Button onClick={() => setValue({ text: \"Hello world!\", mentions: [] })}>\n  Set Content\n</Button>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  const presetValues = [\n    {\n      label: \"Empty\",\n      value: { text: \"\", mentions: [] },\n    },\n    {\n      label: \"Simple Text\",\n      value: { text: \"Hello, this is a simple message!\", mentions: [] },\n    },\n    {\n      label: \"With Mention\",\n      value: {\n        text: \"Hello @John Doe, how are you today?\",\n        mentions: [\n          {\n            startIndex: 6,\n            endIndex: 15,\n            text: \"@John Doe\",\n            item: {\n              id: \"1\",\n              type: \"user\" as const,\n              label: \"John Doe\",\n              avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=john`,\n            },\n          },\n        ],\n      },\n    },\n    {\n      label: \"Multiple Mentions\",\n      value: {\n        text: \"Meeting with @Alice Smith and @Bob Johnson at 3pm in /general channel\",\n        mentions: [\n          {\n            startIndex: 13,\n            endIndex: 25,\n            text: \"@Alice Smith\",\n            item: {\n              id: \"2\",\n              type: \"user\" as const,\n              label: \"Alice Smith\",\n              avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=alice`,\n            },\n          },\n          {\n            startIndex: 30,\n            endIndex: 42,\n            text: \"@Bob Johnson\",\n            item: {\n              id: \"3\",\n              type: \"user\" as const,\n              label: \"Bob Johnson\",\n              avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=bob`,\n            },\n          },\n          {\n            startIndex: 53,\n            endIndex: 61,\n            text: \"/general\",\n            item: {\n              id: \"4\",\n              type: \"channel\" as const,\n              label: \"general\",\n              description: \"General discussion channel\",\n            },\n          },\n        ],\n      },\n    },\n  ]\n\n  const appendText = (text: string) => {\n    setValue((prev) => ({\n      ...prev,\n      text: prev.text + (prev.text ? \" \" : \"\") + text,\n    }))\n  }\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <div className=\"space-y-2\">\n        <h4 className=\"font-strong\">Value Control Buttons</h4>\n        <div className=\"flex flex-wrap gap-2\">\n          {presetValues.map((preset) => (\n            <Button\n              key={preset.label}\n              variant=\"secondary\"\n              size=\"default\"\n              onClick={() => setValue(preset.value)}\n            >\n              {preset.label}\n            </Button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <h4 className=\"font-strong\">Dynamic Actions</h4>\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => appendText(\"Great job!\")}\n          >\n            Add &quot;Great job!&quot;\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => appendText(\"\")}\n          >\n            Add \n          </Button>\n\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() =>\n              setValue({\n                text: \"Hello @john, check this @admin message!\",\n                mentions: [\n                  {\n                    item: {\n                      id: \"john\",\n                      type: \"user\",\n                      label: \"John Doe\",\n                      metadata: {},\n                    },\n                    startIndex: 6,\n                    endIndex: 11,\n                    text: \"@john\",\n                    context: {\n                      fullContext: \"Hello @john, check this @admin message!\",\n                      mentionText: \"@john\",\n                    },\n                  },\n                  {\n                    item: {\n                      id: \"admin\",\n                      type: \"user\",\n                      label: \"Admin\",\n                      metadata: {},\n                    },\n                    startIndex: 24,\n                    endIndex: 30,\n                    text: \"@admin\",\n                    context: {\n                      fullContext: \"Hello @john, check this @admin message!\",\n                      mentionText: \"@admin\",\n                    },\n                  },\n                ],\n              })\n            }\n          >\n            Test Multiple @\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() =>\n              setValue({ text: \"The quick brown fox jumps over the lazy dog.\", mentions: [] })\n            }\n          >\n            Sample Text\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => setValue({ text: \"Hello world!\", mentions: [] })}\n          >\n            Simple Text\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => {\n              const text = \"Simple text with @user at end\"\n              const mentionText = \"@user\"\n              const startIndex = text.indexOf(mentionText)\n              const endIndex = startIndex + mentionText.length\n\n              setValue({\n                text: text,\n                mentions: [\n                  {\n                    item: {\n                      id: \"test\",\n                      type: \"user\",\n                      label: \"Test User\",\n                      metadata: {},\n                    },\n                    startIndex: startIndex,\n                    endIndex: endIndex,\n                    text: mentionText,\n                    context: {\n                      fullContext: text,\n                      mentionText: mentionText,\n                    },\n                  },\n                ],\n              })\n            }}\n          >\n            Test End @\n          </Button>\n        </div>\n      </div>\n\n      <ContextInput\n        value={value}\n        autoFocus\n        placeholder=\"Content is controlled externally...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n          {\n            char: \"/\",\n            onSearch: async (query) => {\n              return channels.filter((channel) =>\n                channel.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n        onChange={setValue}\n      >\n        <ContextInput.Footer>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-secondary-foreground text-body-small\">\n              Characters: {value.text.length}\n            </span>\n            <span className=\"text-secondary-foreground text-body-small\">\n              Mentions: {value.mentions.length}\n            </span>\n          </div>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => setValue({ text: \"\", mentions: [] })}\n          >\n            Clear All\n          </Button>\n        </ContextInput.Footer>\n      </ContextInput>\n\n      <CodeBlock language=\"json\">\n        <CodeBlock.Content code={JSON.stringify(value, null, 2)} />\n      </CodeBlock>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--custom-mention-component",
      "name": "Custom Mention Component",
      "exportName": "CustomMentionComponent",
      "description": "CustomMentionComponent: Example showing how to use customMentionComponent for customization.\n- Create custom Mention component with different styling\n- Custom component has gradient background and emoji decoration\n- Passed via `customMentionComponent` prop\n- Receives same props as default Mention component\n- Useful for branding or visual differentiation\n\n```tsx\nconst CustomMention = (props) => {\n  const { attributes, children, element, mentionPrefix } = props\n  return (\n    <span {...attributes} contentEditable={false} className=\"custom-styles\">\n      {children}\n      {mentionPrefix}{element.mentionLabel}\n    </span>\n  )\n}\n\n<ContextInput customMentionComponent={CustomMention} />\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<ContextInputValue>({\n    text: \"\",\n    mentions: [],\n  })\n\n  const CustomMention: React.FC<React.ComponentProps<typeof ContextInput.Mention>> = (props) => {\n    const { attributes, children, element, mentionPrefix = \"@\" } = props\n    const mentionElement = element as unknown as ContextMentionElement\n\n    return (\n      <span\n        {...attributes}\n        contentEditable={false}\n        className={tcx(\n          \"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium\",\n          \"bg-gradient-to-r from-purple-500 to-pink-500 text-white\",\n          \"border border-white/20 shadow-sm\",\n        )}\n      >\n        {children}\n        <span className=\"text-white/80\">{mentionElement.mentionPrefix || mentionPrefix}</span>\n        <span className=\"font-semibold\">{mentionElement.mentionLabel}</span>\n        <span className=\"ml-1 text-white/60\"></span>\n      </span>\n    )\n  }\n\n  return (\n    <ContextInput\n      value={value}\n      onChange={setValue}\n      placeholder=\"Try typing @john to see custom mention styling...\"\n      className=\"w-80\"\n      customMentionComponent={CustomMention}\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query: string) => {\n            return users.filter((user) => user.label.toLowerCase().includes(query.toLowerCase()))\n          },\n        },\n      ]}\n    />\n  )\n\n}"
    },
    {
      "id": "forms-contextinput--imperative-focus",
      "name": "Imperative Focus",
      "exportName": "ImperativeFocus",
      "description": "ImperativeFocus: Demonstrates how to programmatically focus the input using ref.\n- Use ref to get access to the focus method\n- Call ref.current.focus() to focus the input from outside\n- Useful for keyboard shortcuts or external button triggers\n\n```tsx\nconst inputRef = useRef<ContextInputRef>(null)\n\n<ContextInput ref={inputRef} />\n\n<Button onClick={() => inputRef.current?.focus()}>\n  Focus Input\n</Button>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\nimport { useRef } from \"react\"\n\nexport default function App() {\n\n  const inputRef = useRef<ContextInputRef>(null)\n\n  const handleFocusClick = () => {\n    inputRef.current?.focus()\n  }\n\n  return (\n    <div className=\"flex w-80 flex-col gap-4\">\n      <Button\n        variant=\"secondary\"\n        size=\"default\"\n        onClick={handleFocusClick}\n      >\n        Focus Input\n      </Button>\n\n      <ContextInput\n        ref={inputRef}\n        placeholder=\"This input can be focused programmatically...\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query: string) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase()),\n              )\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "beta"
  ]
}