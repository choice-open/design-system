{
  "slug": "forms/context-input",
  "title": "ContextInput",
  "package": {
    "name": "@choice-ui/context-input",
    "version": "0.0.7",
    "description": "Context Input component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/combobox": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/icon-button": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/scroll-area": "workspace:*",
      "lodash-es": "^4.17.21",
      "slate": "^0.120.0",
      "slate-history": "^0.113.1",
      "slate-react": "^0.120.0",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "ContextInput",
    "contextInputTv"
  ],
  "props": [],
  "stories": [
    {
      "id": "forms-contextinput--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "Basic: Simple context input with user mentions using @ trigger.\n- Type @ to search and mention users\n- Arrow keys navigation and Enter/Tab to select\n- Returns structured data with text and mention metadata\n- Real-time search filtering\n\n```tsx\nconst [value, setValue] = useState({ text: \"\", mentions: [] })\n\n<ContextInput\n  value={value}\n  placeholder=\"Type @ to mention someone...\"\n  triggers={[{\n    char: \"@\",\n    onSearch: async (query) => {\n      return users.filter(user =>\n        user.label.toLowerCase().includes(query.toLowerCase())\n      )\n    }\n  }]}\n  onChange={setValue}\n  onMentionSelect={(mention, trigger) => {\n    console.log(\"Selected:\", mention, trigger)\n  }}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      />\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--disabled",
      "name": "Disabled",
      "exportName": "Disabled",
      "description": "Disabled: Shows context input in disabled state.\n- All interactions are prevented\n- Visual styling indicates disabled state\n- Useful for read-only scenarios or conditional editing\n\n```tsx\n<ContextInput\n  disabled\n  value={value}\n  placeholder=\"This input is disabled...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        disabled\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      />\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--read-only",
      "name": "Read Only",
      "exportName": "ReadOnly",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"rounded-xl border bg-stone-50 p-4\">\n        <div className=\"text-body-small-strong mb-2 text-stone-700\">\n          Current Value:\n        </div>\n        <div className=\"text-body-small font-mono text-stone-600\">\n          {value.text || \"(empty)\"}\n        </div>\n        <div className=\"text-body-small-strong mt-2 text-stone-700\">\n          Mentions Count:\n        </div>\n        <div className=\"text-body-small font-mono text-stone-600\">\n          {value.mentions.length}\n        </div>\n        <div className=\"text-body-small-strong mt-2 text-stone-700\">\n          Change Count:\n        </div>\n        <div className=\"text-body-small font-mono text-stone-600\">\n          {changeCount}\n        </div>\n      </div>\n      <div className=\"w-full max-w-md\">\n        <ContextInput\n          readOnly\n          value={value}\n          placeholder=\"Type @ to mention someone...\"\n          className=\"max-h-96 w-80\"\n          triggers={[\n            {\n              char: \"@\",\n              onSearch: async (query) => {\n                return users.filter((user) =>\n                  user.label.toLowerCase().includes(query.toLowerCase())\n                );\n              },\n            },\n          ]}\n          onChange={handleChange}\n          onMentionSelect={(mention, trigger) => {\n            console.log(\"Mention selected:\", mention, trigger);\n          }}\n        />\n        <CodeBlock language=\"tsx\">\n          <CodeBlock.Content code={value.text} />\n        </CodeBlock>\n      </div>\n      <div className=\"w-full max-w-md\">\n        <ContextInput\n          value={value}\n          placeholder=\"Type @ to mention someone...\"\n          className=\"max-h-96 w-80\"\n          triggers={[\n            {\n              char: \"@\",\n              onSearch: async (query) => {\n                return users.filter((user) =>\n                  user.label.toLowerCase().includes(query.toLowerCase())\n                );\n              },\n            },\n          ]}\n          onChange={handleChange}\n          onMentionSelect={(mention, trigger) => {\n            console.log(\"Mention selected:\", mention, trigger);\n          }}\n        />\n        <CodeBlock language=\"tsx\">\n          <CodeBlock.Content code={value.text} />\n        </CodeBlock>\n      </div>\n      <div className=\"text-body-small text-stone-600\">\n        üí° Try editing the readonly context input - the value should not\n        change and the change count should remain at 0. Only the normal input\n        will change the value.\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--variants",
      "name": "Variants",
      "exportName": "Variants",
      "description": "Variants: Demonstrates different visual variants of the context input component.\n- default: Follows the page theme dynamically (light/dark mode)\n- light: Fixed light appearance regardless of theme\n- dark: Fixed dark appearance regardless of theme\n- reset: Removes variant styling, no Variant settings applied\n\n```tsx\n<ContextInput\n  variant=\"default\" // Adapts to current theme\n  value={value}\n  placeholder=\"Type @ to mention...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <Checkbox value={disabled} onChange={(value) => setDisabled(value)}>\n        Disabled\n      </Checkbox>\n      <div className=\"grid w-160 grid-cols-3 overflow-hidden rounded-xl border\">\n        <div className=\"bg-default-background p-8\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"default\"\n            value={defaultValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-full\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase())\n                  );\n                },\n              },\n            ]}\n            onChange={setDefaultValue}\n            onMentionSelect={(mention, trigger) => {\n              console.log(\"Mention selected:\", mention, trigger);\n            }}\n          />\n        </div>\n        <div className=\"bg-white p-8\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"light\"\n            value={lightValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-full\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase())\n                  );\n                },\n              },\n            ]}\n            onChange={setLightValue}\n            onMentionSelect={(mention, trigger) => {\n              console.log(\"Mention selected:\", mention, trigger);\n            }}\n          />\n        </div>\n        <div className=\"bg-gray-800 p-8\">\n          <ContextInput\n            disabled={disabled}\n            variant=\"dark\"\n            value={darkValue}\n            placeholder=\"Type @ to mention someone...\"\n            className=\"max-h-96 w-full\"\n            triggers={[\n              {\n                char: \"@\",\n                onSearch: async (query) => {\n                  return users.filter((user) =>\n                    user.label.toLowerCase().includes(query.toLowerCase())\n                  );\n                },\n              },\n            ]}\n            onChange={setDarkValue}\n            onMentionSelect={(mention, trigger) => {\n              console.log(\"Mention selected:\", mention, trigger);\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--large",
      "name": "Large",
      "exportName": "Large",
      "description": "Large: Context input with large size variant.\n- Increased padding and font size\n- Better for prominent input areas\n- More comfortable for extended typing\n\n```tsx\n<ContextInput\n  size=\"large\"\n  value={value}\n  placeholder=\"Large size input...\"\n  triggers={triggers}\n  onChange={setValue}\n/>\n```",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        size=\"large\"\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      />\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--min-height",
      "name": "Min Height",
      "exportName": "MinHeight",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        minHeight={128}\n        size=\"large\"\n        value={value}\n        placeholder=\"Min height 128\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      />\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--with-header",
      "name": "With Header",
      "exportName": "WithHeader",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        size=\"large\"\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      >\n        <ContextInput.Header>\n          <h3 className=\"font-strong\">Header</h3>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ExpandSmall />\n          </IconButton>\n        </ContextInput.Header>\n      </ContextInput>\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--with-footer",
      "name": "With Footer",
      "exportName": "WithFooter",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <ContextInput\n      size=\"large\"\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10));\n            return users.filter((user) =>\n              user.label.toLowerCase().includes(query.toLowerCase())\n            );\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger);\n      }}\n    >\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-secondary-foreground\">Claude Sonnet 4</span>\n          <IconButton\n            className=\"bg-accent-background text-on-accent-foreground hover:bg-accent-background rounded-full\"\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ArrowUp />\n          </IconButton>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  );\n}"
    },
    {
      "id": "forms-contextinput--max-length",
      "name": "Max Length",
      "exportName": "MaxLength",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <ContextInput\n      size=\"large\"\n      maxLength={100}\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10));\n            return users.filter((user) =>\n              user.label.toLowerCase().includes(query.toLowerCase())\n            );\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger);\n      }}\n    >\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span\n            className={tcx(\n              value.text.length === 100\n                ? \"text-danger-foreground\"\n                : \"text-secondary-foreground\"\n            )}\n          >\n            {value.text.length}/100\n          </span>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  );\n}"
    },
    {
      "id": "forms-contextinput--max-suggestions",
      "name": "Max Suggestions",
      "exportName": "MaxSuggestions",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <ContextInput\n      size=\"large\"\n      maxSuggestions={3}\n      ref={inputRef}\n      value={value}\n      placeholder=\"Max suggestions 3\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10));\n            return users.filter((user) =>\n              user.label.toLowerCase().includes(query.toLowerCase())\n            );\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger);\n      }}\n    />\n  );\n}"
    },
    {
      "id": "forms-contextinput--with-header-and-footer",
      "name": "With Header And Footer",
      "exportName": "WithHeaderAndFooter",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <ContextInput\n      size=\"large\"\n      ref={inputRef}\n      value={value}\n      placeholder=\"Type @ to mention someone...\"\n      className=\"max-h-96 w-80\"\n      triggers={[\n        {\n          char: \"@\",\n          onSearch: async (query) => {\n            await new Promise((resolve) => setTimeout(resolve, 10));\n            return users.filter((user) =>\n              user.label.toLowerCase().includes(query.toLowerCase())\n            );\n          },\n        },\n      ]}\n      onChange={setValue}\n      onMentionSelect={(mention, trigger) => {\n        console.log(\"Mention selected:\", mention, trigger);\n      }}\n    >\n      <ContextInput.Header>\n        <h3>Header</h3>\n        <div className=\"flex items-center gap-2\">\n          <ContextInput.InsertMentionsButton\n            tooltip={{\n              content: \"Insert @\",\n            }}\n            onClick={() => console.log(\"Insert @ clicked\")}\n          />\n          <ContextInput.CopyButton\n            tooltip={{\n              content: \"Copy\",\n            }}\n            onClick={(copiedText) => {\n              console.log(\"Copied text:\", copiedText);\n            }}\n          />\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ExpandSmall />\n          </IconButton>\n        </div>\n      </ContextInput.Header>\n      <ContextInput.Footer>\n        <div className=\"flex items-center gap-2\">\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <AddSmall />\n          </IconButton>\n          <IconButton\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <Image />\n          </IconButton>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-secondary-foreground\">Claude Sonnet 4</span>\n          <IconButton\n            className=\"bg-accent-background text-on-accent-foreground hover:bg-accent-background rounded-full\"\n            tooltip={{\n              content: \"Expand\",\n            }}\n          >\n            <ArrowUp />\n          </IconButton>\n        </div>\n      </ContextInput.Footer>\n    </ContextInput>\n  );\n}"
    },
    {
      "id": "forms-contextinput--with-paste-button",
      "name": "With Paste Button",
      "exportName": "WithPasteButton",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md space-y-4\">\n      <ContextInput\n        value={value}\n        placeholder=\"Type @ to mention someone...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n      >\n        <ContextInput.Header>\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"font-strong\">Input content</h3>\n            <ContextInput.CopyButton\n              onClick={async (copiedText) => {\n                const confirmed = await confirm({\n                  title: \"Paste\",\n                  description: copiedText,\n                });\n                if (confirmed) {\n                  setCopiedText(copiedText);\n                }\n              }}\n            />\n          </div>\n        </ContextInput.Header>\n      </ContextInput>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--multiple-triggers",
      "name": "Multiple Triggers",
      "exportName": "MultipleTriggers",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md\">\n      <ContextInput\n        className=\"max-h-96 w-80\"\n        value={value}\n        placeholder=\"Try @ for users, / for channels...\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n          {\n            char: \"/\",\n            onSearch: async (query) => {\n              return channels.filter((channel) =>\n                channel.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Selected:\", mention.label, \"via\", trigger);\n        }}\n      />\n\n      <div className=\"bg-secondary-background mt-4 rounded-xl p-4\">\n        <p className=\"font-strong\">Instructions:</p>\n        <ul className=\"text-secondary-foreground mt-2 space-y-1\">\n          <li>\n            ‚Ä¢ Type <code>@</code> to mention users\n          </li>\n          <li>\n            ‚Ä¢ Type <code>/</code> to mention channels\n          </li>\n          <li>‚Ä¢ Use arrow keys to navigate</li>\n          <li>‚Ä¢ Press Enter or Tab to select</li>\n        </ul>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--custom-mention-prefix",
      "name": "Custom Mention Prefix",
      "exportName": "CustomMentionPrefix",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md space-y-4\">\n      <ContextInput\n        value={value}\n        mentionPrefix=\"#\"\n        placeholder=\"Type @ to mention someone with # prefix...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n      />\n\n      <div className=\"bg-secondary-background rounded-xl p-4\">\n        <p className=\"font-strong\">Custom Prefix: #</p>\n        <p className=\"text-secondary-foreground mt-2\">\n          Mentions will appear as <code>#JohnDoe</code> instead of{\" \"}\n          <code>@JohnDoe</code>\n        </p>\n      </div>\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--clear-function-test",
      "name": "Clear Function Test",
      "exportName": "ClearFunctionTest",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-80 space-y-4\">\n      <Button variant=\"secondary\" onClick={handleClear}>\n        Clear\n      </Button>\n\n      <div className=\"text-secondary-foreground\">\n        Input some content and click the clear button to test the clear\n        function\n      </div>\n\n      <ContextInput\n        className=\"max-h-96 w-80 rounded-lg border border-gray-300\"\n        value={value}\n        placeholder=\"Input some content and click the clear button to test...\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n          {\n            char: \"/\",\n            onSearch: async (query) => {\n              return channels.filter((channel) =>\n                channel.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Selected:\", mention.label, \"via\", trigger);\n        }}\n      />\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--controlled-value",
      "name": "Controlled Value",
      "exportName": "ControlledValue",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"w-full max-w-md space-y-4\">\n      <div className=\"space-y-2\">\n        <h4 className=\"font-strong\">Value Control Buttons</h4>\n        <div className=\"flex flex-wrap gap-2\">\n          {presetValues.map((preset) => (\n            <Button\n              key={preset.label}\n              variant=\"secondary\"\n              size=\"default\"\n              onClick={() => setValue(preset.value)}\n            >\n              {preset.label}\n            </Button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <h4 className=\"font-strong\">Dynamic Actions</h4>\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => appendText(\"Great job!\")}\n          >\n            Add &quot;Great job!&quot;\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => appendText(\"üëç\")}\n          >\n            Add üëç\n          </Button>\n\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() =>\n              setValue({\n                text: \"Hello @john, check this @admin message!\",\n                mentions: [\n                  {\n                    item: {\n                      id: \"john\",\n                      type: \"user\",\n                      label: \"John Doe\",\n                      metadata: {},\n                    },\n                    startIndex: 6,\n                    endIndex: 11,\n                    text: \"@john\",\n                    context: {\n                      fullContext: \"Hello @john, check this @admin message!\",\n                      mentionText: \"@john\",\n                    },\n                  },\n                  {\n                    item: {\n                      id: \"admin\",\n                      type: \"user\",\n                      label: \"Admin\",\n                      metadata: {},\n                    },\n                    startIndex: 24,\n                    endIndex: 30,\n                    text: \"@admin\",\n                    context: {\n                      fullContext: \"Hello @john, check this @admin message!\",\n                      mentionText: \"@admin\",\n                    },\n                  },\n                ],\n              })\n            }\n          >\n            Test Multiple @\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() =>\n              setValue({ text: faker.lorem.sentence(), mentions: [] })\n            }\n          >\n            Random Text\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => setValue({ text: \"Hello world!\", mentions: [] })}\n          >\n            Simple Text\n          </Button>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => {\n              const text = \"Simple text with @user at end\";\n              const mentionText = \"@user\";\n              const startIndex = text.indexOf(mentionText);\n              const endIndex = startIndex + mentionText.length;\n\n              setValue({\n                text: text,\n                mentions: [\n                  {\n                    item: {\n                      id: \"test\",\n                      type: \"user\",\n                      label: \"Test User\",\n                      metadata: {},\n                    },\n                    startIndex: startIndex,\n                    endIndex: endIndex,\n                    text: mentionText,\n                    context: {\n                      fullContext: text,\n                      mentionText: mentionText,\n                    },\n                  },\n                ],\n              });\n            }}\n          >\n            Test End @\n          </Button>\n        </div>\n      </div>\n\n      <ContextInput\n        value={value}\n        autoFocus\n        placeholder=\"Content is controlled externally...\"\n        className=\"max-h-96 w-80\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n          {\n            char: \"/\",\n            onSearch: async (query) => {\n              return channels.filter((channel) =>\n                channel.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n        onChange={setValue}\n        onMentionSelect={(mention, trigger) => {\n          console.log(\"Mention selected:\", mention, trigger);\n        }}\n      >\n        <ContextInput.Footer>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-secondary-foreground text-body-small\">\n              Characters: {value.text.length}\n            </span>\n            <span className=\"text-secondary-foreground text-body-small\">\n              Mentions: {value.mentions.length}\n            </span>\n          </div>\n          <Button\n            variant=\"secondary\"\n            size=\"default\"\n            onClick={() => setValue({ text: \"\", mentions: [] })}\n          >\n            Clear All\n          </Button>\n        </ContextInput.Footer>\n      </ContextInput>\n\n      <CodeBlock language=\"tsx\">\n        <CodeBlock.Content code={value.text} />\n      </CodeBlock>\n\n      <div className=\"bg-secondary-background rounded-xl p-4\">\n        <p className=\"font-strong mb-2\">Controlled Value Features:</p>\n        <ul className=\"text-secondary-foreground text-body-small space-y-1\">\n          <li>‚Ä¢ External buttons control input content</li>\n          <li>‚Ä¢ Programmatic mention insertion</li>\n          <li>‚Ä¢ Real-time character and mention counts</li>\n          <li>‚Ä¢ Preset content examples</li>\n          <li>‚Ä¢ Full bidirectional data binding</li>\n          <li>\n            ‚Ä¢ <strong>Auto-focus:</strong> Editor auto-focuses when autoFocus\n            is enabled\n          </li>\n          <li>\n            ‚Ä¢ <strong>Cursor positioning:</strong> Always moves to end after\n            value changes\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-contextinput--custom-mention-component",
      "name": "Custom Mention Component",
      "exportName": "CustomMentionComponent",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <span\n      {...attributes}\n      contentEditable={false}\n      className={tcx(\n        \"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium\",\n        \"bg-gradient-to-r from-purple-500 to-pink-500 text-white\",\n        \"border border-white/20 shadow-sm\"\n      )}\n    >\n      {children}\n      <span className=\"text-white/80\">\n        {mentionElement.mentionPrefix || mentionPrefix}\n      </span>\n      <span className=\"font-semibold\">{mentionElement.mentionLabel}</span>\n      <span className=\"ml-1 text-white/60\">‚ú®</span>\n    </span>\n  );\n}"
    },
    {
      "id": "forms-contextinput--imperative-focus",
      "name": "Imperative Focus",
      "exportName": "ImperativeFocus",
      "description": "",
      "source": "import { ContextInput } from \"@choice-ui/context-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex w-[500px] flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <Button variant=\"secondary\" size=\"default\" onClick={handleFocusClick}>\n          Focus Input\n        </Button>\n        <span className=\"text-body-small text-fg-subtle\">\n          Click button to focus the input below\n        </span>\n      </div>\n\n      <ContextInput\n        ref={inputRef}\n        placeholder=\"This input can be focused programmatically...\"\n        triggers={[\n          {\n            char: \"@\",\n            onSearch: async (query: string) => {\n              return users.filter((user) =>\n                user.label.toLowerCase().includes(query.toLowerCase())\n              );\n            },\n          },\n        ]}\n      >\n        <ContextInput.Footer>\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-body-small text-fg-subtle\">\n              Use ref.current.focus() to focus programmatically\n            </span>\n          </div>\n        </ContextInput.Footer>\n      </ContextInput>\n    </div>\n  );\n}"
    }
  ]
}