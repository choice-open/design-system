{
  "slug": "data-display/table",
  "title": "Table",
  "package": {
    "name": "@choice-ui/table",
    "version": "0.0.1",
    "description": "A high-performance table component with virtualization, sorting, filtering, and column management",
    "dependencies": {
      "@choice-ui/checkbox": "workspace:*",
      "@choice-ui/scroll-area": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@tanstack/react-virtual": "^3.13.2"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "Table",
    "type TableBodyProps",
    "type TableCellProps",
    "type TableColumnProps",
    "type TableEmptyProps",
    "type TableFooterProps",
    "type TableHeaderProps",
    "type TableProps",
    "type TableRowProps",
    "type TableValueProps",
    "type SelectionMode",
    "type ScrollMode",
    "type RowKey",
    "type SortDirection",
    "type SortingState",
    "type SelectionState",
    "type TableColumnDef",
    "type ColumnWidthState",
    "type ColumnWidthsState",
    "type ColumnOrderState",
    "type ResizeState",
    "type TableInstance",
    "type InternalRow",
    "type ConsecutiveStyle",
    "type TableContextValue",
    "type TableProps",
    "type TableHeaderProps",
    "type TableColumnProps",
    "type TableBodyProps",
    "type TableRowProps",
    "type TableCellProps",
    "type TableValueProps",
    "type TableFooterProps",
    "type TableSelectCellProps",
    "useTableStatic",
    "useTableScroll",
    "useTableSelection",
    "useTableColumnState",
    "useTableDragResize",
    "useTableRows",
    "tableVariants"
  ],
  "props": [
    {
      "displayName": "Table",
      "description": "Table component with compound components pattern.\n\nSupports:\n- Row selection (single/multiple)\n- Consecutive selection rounded corners\n- Virtualization for large datasets\n- Two scroll modes: \"container\" (internal ScrollArea) or \"window\" (window scroll)",
      "props": [
        {
          "name": "data",
          "type": "T[]",
          "required": true,
          "description": "Table data"
        },
        {
          "name": "getRowKey",
          "type": "(row: T, index: number) => RowKey",
          "required": true,
          "description": "Function to get unique key for each row"
        },
        {
          "name": "selectable",
          "type": "boolean | undefined",
          "required": false,
          "description": "Whether to show selection column"
        },
        {
          "name": "selectionMode",
          "type": "undefined | \"single\" | \"multiple\" | \"none\"",
          "required": false,
          "description": "Selection mode"
        },
        {
          "name": "selectedKeys",
          "type": "RowKey[] | undefined",
          "required": false,
          "description": "Controlled selected keys"
        },
        {
          "name": "defaultSelectedKeys",
          "type": "RowKey[] | undefined",
          "required": false,
          "description": "Default selected keys (uncontrolled)"
        },
        {
          "name": "onSelectionChange",
          "type": "((selectedKeys: RowKey[]) => void) | undefined",
          "required": false,
          "description": "Selection change callback"
        },
        {
          "name": "virtualized",
          "type": "boolean | undefined",
          "required": false,
          "description": "Whether to enable virtualization"
        },
        {
          "name": "rowHeight",
          "type": "number | undefined",
          "required": false,
          "description": "Fixed row height in pixels for virtualization (default: 32)"
        },
        {
          "name": "overscan",
          "type": "number | undefined",
          "required": false,
          "description": "Number of rows to render outside viewport"
        },
        {
          "name": "scrollMode",
          "type": "undefined | \"container\" | \"window\"",
          "required": false,
          "description": "Scroll mode"
        },
        {
          "name": "scrollRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": "Custom scroll element ref (for custom container scroll)"
        },
        {
          "name": "containerRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": "Custom container ref (for custom container scroll)"
        },
        {
          "name": "sortable",
          "type": "boolean | undefined",
          "required": false,
          "description": "Whether table is sortable"
        },
        {
          "name": "sorting",
          "type": "SortingState[] | undefined",
          "required": false,
          "description": "Controlled sorting state"
        },
        {
          "name": "defaultSorting",
          "type": "SortingState[] | undefined",
          "required": false,
          "description": "Default sorting state"
        },
        {
          "name": "onSortingChange",
          "type": "((sorting: SortingState[]) => void) | undefined",
          "required": false,
          "description": "Sorting change callback"
        },
        {
          "name": "resizable",
          "type": "boolean | undefined",
          "required": false,
          "description": "Whether columns are resizable"
        },
        {
          "name": "columnWidths",
          "type": "ColumnWidthState | undefined",
          "required": false,
          "description": "Controlled column widths"
        },
        {
          "name": "defaultColumnWidths",
          "type": "ColumnWidthState | undefined",
          "required": false,
          "description": "Default column widths"
        },
        {
          "name": "onColumnWidthsChange",
          "type": "((widths: ColumnWidthState) => void) | undefined",
          "required": false,
          "description": "Column width change callback"
        },
        {
          "name": "reorderable",
          "type": "boolean | undefined",
          "required": false,
          "description": "Whether columns are reorderable"
        },
        {
          "name": "columnOrder",
          "type": "ColumnOrderState | undefined",
          "required": false,
          "description": "Controlled column order"
        },
        {
          "name": "defaultColumnOrder",
          "type": "ColumnOrderState | undefined",
          "required": false,
          "description": "Default column order"
        },
        {
          "name": "onColumnOrderChange",
          "type": "((order: ColumnOrderState) => void) | undefined",
          "required": false,
          "description": "Column order change callback"
        },
        {
          "name": "activeRowKey",
          "type": "RowKey | null | undefined",
          "required": false,
          "description": "Active row key (for highlighting)"
        },
        {
          "name": "onRowClick",
          "type": "((row: T, event: MouseEvent<Element, MouseEvent>) => void) | undefined",
          "required": false,
          "description": "Row click handler"
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": "Custom class name"
        },
        {
          "name": "height",
          "type": "string | number | undefined",
          "required": false,
          "description": "Container height (for container scroll mode)"
        },
        {
          "name": "onScroll",
          "type": "((event: { scrollTop: number; scrollHeight: number; clientHeight: number; }) => void) | undefined",
          "required": false,
          "description": "Scroll event callback (for infinite scroll, etc.)"
        },
        {
          "name": "tableRef",
          "type": "RefObject<TableInstance<T> | null> | undefined",
          "required": false,
          "description": "Ref to table instance"
        },
        {
          "name": "children",
          "type": "ReactNode",
          "required": true,
          "description": "Children (Table.Header, Table.Body)"
        }
      ]
    },
    {
      "displayName": "TableBodyProps",
      "description": "Props for Table.Body",
      "props": []
    },
    {
      "displayName": "TableCellProps",
      "description": "Props for Table.Cell",
      "props": []
    },
    {
      "displayName": "TableColumnProps",
      "description": "Props for Table.Column (used inside Table.Header)",
      "props": []
    },
    {
      "displayName": "TableFooterProps",
      "description": "Props for Table.Footer (e.g., loading indicator for infinite scroll)",
      "props": []
    },
    {
      "displayName": "TableHeaderProps",
      "description": "Props for Table.Header",
      "props": []
    },
    {
      "displayName": "TableProps",
      "description": "Props for the Table root component",
      "props": []
    },
    {
      "displayName": "TableRowProps",
      "description": "Props for Table.Row",
      "props": []
    },
    {
      "displayName": "TableValueProps",
      "description": "Props for Table.Value",
      "props": []
    },
    {
      "displayName": "tableVariants",
      "description": "",
      "props": [
        {
          "name": "selected",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "active",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "sortable",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "resizing",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "dragging",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "class",
          "type": "ClassNameValue",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "ClassNameValue",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "data-display-table--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "Basic table with multi-row selection.\n\n**Key Features:**\n- Checkbox column for row selection\n- Shift+Click for range selection\n- Consecutive selected rows display rounded corners\n- Header checkbox toggles select all / deselect all\n\n**Usage Tips:**\n- Use `selectable` prop to enable selection column\n- Use `selectionMode=\"multiple\"` for multi-select (default) or `\"single\"` for single-select\n- Control selection with `selectedKeys` and `onSelectionChange`",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(50), [])\n  const [selectedKeys, setSelectedKeys] = useState<(string | number)[]>([])\n\n  return (\n    <div className=\"flex w-full flex-col gap-4\">\n      <Label>Selected: {selectedKeys.length} rows</Label>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        selectable\n        selectionMode=\"multiple\"\n        selectedKeys={selectedKeys}\n        onSelectionChange={setSelectedKeys}\n        height={400}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"name\"\n            width={150}\n            flex={1}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={2}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"role\"\n            width={120}\n          >\n            <Table.Value>Role</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"status\"\n            width={100}\n          >\n            <Table.Value>Status</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"role\">\n                <Table.Value>{user.role}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"status\">\n                <StatusBadge status={user.status} />\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--sortable",
      "name": "Sortable",
      "exportName": "Sortable",
      "description": "Table with sortable columns.\n\n**Key Features:**\n- Click header to toggle sort direction (asc → desc → none)\n- Sort indicator icon shows current direction\n- Controlled sorting state for server-side sorting support\n\n**Usage Tips:**\n- Set `sortable` on Table and individual Columns\n- Implement your own sorting logic in `onSortingChange`\n- Works with both client-side and server-side sorting",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const rawUsers = useMemo(() => generateUsers(20), [])\n  const [sorting, setSorting] = useState<{ id: string; desc: boolean }[]>([])\n\n  const users = useMemo(() => {\n    if (sorting.length === 0) return rawUsers\n    const { id, desc } = sorting[0]\n    return [...rawUsers].sort((a, b) => {\n      const aVal = String(a[id as keyof User] ?? \"\")\n      const bVal = String(b[id as keyof User] ?? \"\")\n      return desc ? bVal.localeCompare(aVal) : aVal.localeCompare(bVal)\n    })\n  }, [rawUsers, sorting])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <Label>\n        Sort:{\" \"}\n        {sorting.length > 0 ? `${sorting[0].id} (${sorting[0].desc ? \"desc\" : \"asc\"})` : \"None\"}\n      </Label>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        sortable\n        sorting={sorting}\n        onSortingChange={setSorting}\n        height={400}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"name\"\n            width={150}\n            flex={1}\n            sortable\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={2}\n            sortable\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"role\"\n            width={120}\n            sortable\n          >\n            <Table.Value>Role</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"department\"\n            width={150}\n            sortable\n          >\n            <Table.Value>Department</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"role\">\n                <Table.Value>{user.role}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"department\">\n                <Table.Value>{user.department}</Table.Value>\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--resizable-and-reorderable",
      "name": "Resizable And Reorderable",
      "exportName": "ResizableAndReorderable",
      "description": "Resizable and reorderable columns.\n\n**Key Features:**\n- Drag column edges to resize (guide line shows during drag)\n- Hold column header 300ms then drag to reorder\n- Ghost column follows mouse during reorder\n- Drop indicator shows target position\n\n**Usage Tips:**\n- Set `resizable` and/or `reorderable` on Table\n- Use `minWidth` and `maxWidth` to constrain resize\n- Control state with `columnWidths` and `columnOrder` props",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(20), [])\n  const [columnWidths, setColumnWidths] = useState<Record<string, number>>({})\n  const [columnOrder, setColumnOrder] = useState([\"name\", \"email\", \"role\", \"department\"])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"text-secondary-foreground text-sm\">Order: {columnOrder.join(\" → \")}</div>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        resizable\n        reorderable\n        columnWidths={columnWidths}\n        onColumnWidthsChange={setColumnWidths}\n        columnOrder={columnOrder}\n        onColumnOrderChange={setColumnOrder}\n        height={400}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"name\"\n            width={180}\n            minWidth={100}\n            maxWidth={300}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            width={220}\n            minWidth={150}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"role\"\n            width={120}\n            minWidth={80}\n          >\n            <Table.Value>Role</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"department\"\n            width={150}\n            minWidth={100}\n          >\n            <Table.Value>Department</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"role\">\n                <Table.Value>{user.role}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"department\">\n                <Table.Value>{user.department}</Table.Value>\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--virtualized",
      "name": "Virtualized",
      "exportName": "Virtualized",
      "description": "Virtualized table for large datasets.\n\n**Key Features:**\n- Efficiently renders 10,000+ rows\n- Only visible rows are rendered in DOM\n- Smooth scrolling with configurable overscan\n- Fixed row height for optimal performance\n\n**Usage Tips:**\n- Set `virtualized={true}` (default) for large datasets\n- Use `rowHeight` prop for fixed row height (default: 32px)\n- Adjust `overscan` for scroll smoothness (default: 5)",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(10000), [])\n  const [selectedKeys, setSelectedKeys] = useState<(string | number)[]>([])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <Label>\n        Total: {users.length.toLocaleString()} rows | Selected: {selectedKeys.length}\n      </Label>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        selectable\n        virtualized\n        rowHeight={32}\n        overscan={10}\n        selectedKeys={selectedKeys}\n        onSelectionChange={setSelectedKeys}\n        height={500}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"id\"\n            width={100}\n          >\n            <Table.Value>ID</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"name\"\n            width={180}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={1}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"role\"\n            width={120}\n          >\n            <Table.Value>Role</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"status\"\n            width={100}\n          >\n            <Table.Value>Status</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"id\">\n                <Table.Value>{user.id}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"role\">\n                <Table.Value>{user.role}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"status\">\n                <StatusBadge status={user.status} />\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--infinite-scroll",
      "name": "Infinite Scroll",
      "exportName": "InfiniteScroll",
      "description": "Infinite scroll with server-side data loading simulation.\n\n**Key Features:**\n- Loads 100 rows at a time when scrolling near bottom\n- Loading indicator at bottom during fetch\n- Simulates 500ms server delay\n- Stops loading when no more data (max 1000 rows)\n\n**Usage Tips:**\n- Use `onScroll` callback to monitor scroll position\n- Show loading state at bottom while fetching\n- Implement proper error handling and retry logic\n- Consider using `useInfiniteQuery` from TanStack Query",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useCallback, useRef } from \"react\"\n\nexport default function App() {\n\n  const [users, setUsers] = useState<User[]>(() => generateUsers(100))\n  const [isLoading, setIsLoading] = useState(false)\n  const [hasMore, setHasMore] = useState(true)\n  const loadingRef = useRef(false)\n\n  const loadMore = useCallback(async () => {\n    if (loadingRef.current || !hasMore) return\n    loadingRef.current = true\n    setIsLoading(true)\n\n    // Simulate server delay\n    await new Promise((resolve) => setTimeout(resolve, 500))\n\n    setUsers((prev) => {\n      const newUsers = generateUsers(100, prev.length)\n      const combined = [...prev, ...newUsers]\n      // Stop at 1000 rows for demo\n      if (combined.length >= 1000) {\n        setHasMore(false)\n      }\n      return combined\n    })\n\n    setIsLoading(false)\n    loadingRef.current = false\n  }, [hasMore])\n\n  // Handle scroll to detect near-bottom for infinite loading\n  const handleScroll = useCallback(\n    ({\n      scrollTop,\n      scrollHeight,\n      clientHeight,\n    }: {\n      scrollTop: number\n      scrollHeight: number\n      clientHeight: number\n    }) => {\n      // Load more when 200px from bottom\n      if (scrollHeight - scrollTop - clientHeight < 200) {\n        loadMore()\n      }\n    },\n    [loadMore],\n  )\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-4\">\n        <Label>Loaded: {users.length} rows</Label>\n        {hasMore && (\n          <span className=\"text-secondary-foreground text-sm\">Scroll down to load more...</span>\n        )}\n        {!hasMore && <span className=\"text-success-foreground text-sm\">All data loaded!</span>}\n      </div>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        selectable\n        virtualized\n        height={500}\n        onScroll={handleScroll}\n        className=\"rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"id\"\n            width={100}\n          >\n            <Table.Value>ID</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"name\"\n            width={180}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={1}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"department\"\n            width={150}\n          >\n            <Table.Value>Department</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"status\"\n            width={100}\n          >\n            <Table.Value>Status</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"id\">\n                <Table.Value>{user.id}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"department\">\n                <Table.Value>{user.department}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"status\">\n                <StatusBadge status={user.status} />\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n        {isLoading && (\n          <Table.Footer className=\"flex items-center justify-center gap-2\">\n            <LoaderCircle className=\"text-secondary-foreground animate-spin\" />\n            <span className=\"text-secondary-foreground\">Loading more...</span>\n          </Table.Footer>\n        )}\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--rich-content",
      "name": "Rich Content",
      "exportName": "RichContent",
      "description": "Rich cell content with custom components.\n\n**Key Features:**\n- Avatar with user info in single cell\n- Badge components for tags\n- Custom row height for complex content\n\n**Usage Tips:**\n- Use `rowHeight` prop when cells have taller content\n- Wrap text content in `Table.Value` for truncation\n- Complex content doesn't need `Table.Value` wrapper",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(30), [])\n\n  return (\n    <Table\n      data={users}\n      getRowKey={(user) => user.id}\n      selectable\n      height={450}\n      rowHeight={56}\n      className=\"w-full rounded-lg border\"\n    >\n      <Table.Header>\n        <Table.Column\n          id=\"user\"\n          width={280}\n          flex={1}\n        >\n          <Table.Value>User</Table.Value>\n        </Table.Column>\n        <Table.Column\n          id=\"role\"\n          width={120}\n        >\n          <Table.Value>Role</Table.Value>\n        </Table.Column>\n        <Table.Column\n          id=\"department\"\n          width={150}\n        >\n          <Table.Value>Department</Table.Value>\n        </Table.Column>\n        <Table.Column\n          id=\"status\"\n          width={100}\n        >\n          <Table.Value>Status</Table.Value>\n        </Table.Column>\n      </Table.Header>\n      <Table.Body<User>>\n        {(user, index) => (\n          <Table.Row\n            rowKey={user.id}\n            index={index}\n          >\n            <Table.Cell\n              columnId=\"user\"\n              className=\"flex items-center gap-3\"\n            >\n              <Avatar\n                name={user.name}\n                size={32}\n              />\n              <div className=\"flex min-w-0 flex-col\">\n                <span className=\"truncate font-medium\">{user.name}</span>\n                <span className=\"text-secondary-foreground truncate text-xs\">{user.email}</span>\n              </div>\n            </Table.Cell>\n            <Table.Cell columnId=\"role\">\n              <Badge variant=\"default\">{user.role}</Badge>\n            </Table.Cell>\n            <Table.Cell columnId=\"department\">\n              <Table.Value>{user.department}</Table.Value>\n            </Table.Cell>\n            <Table.Cell columnId=\"status\">\n              <StatusBadge status={user.status} />\n            </Table.Cell>\n          </Table.Row>\n        )}\n      </Table.Body>\n    </Table>\n  )\n\n}"
    },
    {
      "id": "data-display-table--empty-and-loading",
      "name": "Empty And Loading",
      "exportName": "EmptyAndLoading",
      "description": "Empty and loading states using Table.Empty.\n\n**Key Features:**\n- `Table.Empty` component for custom empty/loading content\n- Replaces `Table.Body` when showing states\n- Full customization of empty state UI\n\n**Usage Tips:**\n- Use conditional rendering: `{isLoading ? <Table.Empty>...</Table.Empty> : <Table.Body>...</Table.Body>}`\n- Add call-to-action buttons in empty state\n- Show spinner or skeleton in loading state",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(10), [])\n  const [state, setState] = useState<\"loading\" | \"empty\" | \"data\">(\"loading\")\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex gap-2\">\n        <Button\n          variant={state === \"loading\" ? \"primary\" : \"secondary\"}\n          onClick={() => setState(\"loading\")}\n        >\n          Loading\n        </Button>\n        <Button\n          variant={state === \"empty\" ? \"primary\" : \"secondary\"}\n          onClick={() => setState(\"empty\")}\n        >\n          Empty\n        </Button>\n        <Button\n          variant={state === \"data\" ? \"primary\" : \"secondary\"}\n          onClick={() => setState(\"data\")}\n        >\n          Data\n        </Button>\n      </div>\n      <Table\n        data={state === \"data\" ? users : []}\n        getRowKey={(user) => user.id}\n        height={350}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"name\"\n            width={180}\n            flex={1}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={2}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"status\"\n            width={100}\n          >\n            <Table.Value>Status</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        {state === \"loading\" ? (\n          <Table.Empty>\n            <div className=\"flex flex-col items-center gap-3\">\n              <LoaderCircle className=\"text-secondary-foreground size-8 animate-spin\" />\n              <span className=\"text-secondary-foreground\">Loading data...</span>\n            </div>\n          </Table.Empty>\n        ) : state === \"empty\" ? (\n          <Table.Empty>\n            <div className=\"flex flex-col items-center gap-4\">\n              <div className=\"text-center\">\n                <p className=\"text-lg font-medium\">No users found</p>\n                <p className=\"text-secondary-foreground text-sm\">\n                  Get started by adding your first user.\n                </p>\n              </div>\n              <Button variant=\"primary\">Add User</Button>\n            </div>\n          </Table.Empty>\n        ) : (\n          <Table.Body<User>>\n            {(user, index) => (\n              <Table.Row\n                rowKey={user.id}\n                index={index}\n              >\n                <Table.Cell columnId=\"name\">\n                  <Table.Value>{user.name}</Table.Value>\n                </Table.Cell>\n                <Table.Cell columnId=\"email\">\n                  <Table.Value>{user.email}</Table.Value>\n                </Table.Cell>\n                <Table.Cell columnId=\"status\">\n                  <StatusBadge status={user.status} />\n                </Table.Cell>\n              </Table.Row>\n            )}\n          </Table.Body>\n        )}\n      </Table>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--window-scroll",
      "name": "Window Scroll",
      "exportName": "WindowScroll",
      "description": "Window scroll mode for full-page layouts.\n\n**Key Features:**\n- Table scrolls with browser window\n- No internal scroll container\n- Header stays visible when sticky positioned\n\n**Usage Tips:**\n- Set `scrollMode=\"window\"` to use window scrolling\n- Best for full-page table layouts\n- Open in standalone window for best experience",
      "source": "import { Table } from \"@choice-ui/table\"\n\nexport default function App() {\n\n  const openInNewWindow = () => {\n    window.open(\"/story/data-display/table/WindowScrollDemo\", \"_blank\", \"width=1200,height=800\")\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center gap-4 py-16\">\n      <p className=\"text-secondary-foreground text-center\">\n        This component uses window scroll. Open in a standalone window for best experience.\n      </p>\n      <Button onClick={openInNewWindow}>Open in New Window</Button>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--selected-vs-active",
      "name": "Selected Vs Active",
      "exportName": "SelectedVsActive",
      "description": "Selected vs Active row states.\n\n**Key Features:**\n- **Selected** (solid bg): Rows chosen via checkbox, persists\n- **Active** (lighter bg): Current focus row, single row only\n- Keyboard navigation with arrow keys\n\n**Usage Tips:**\n- Use `activeRowKey` for keyboard navigation focus\n- Use `selectedKeys` for user's selection choices\n- Press Enter/Space to toggle selection on active row",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const users = useMemo(() => generateUsers(10), [])\n  const [selectedKeys, setSelectedKeys] = useState<string[]>([\"user-2\", \"user-3\"])\n  const [activeRowKey, setActiveRowKey] = useState<string | null>(\"user-5\")\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    const currentIndex = users.findIndex((u) => u.id === activeRowKey)\n\n    if (e.key === \"ArrowDown\") {\n      e.preventDefault()\n      setActiveRowKey(users[Math.min(currentIndex + 1, users.length - 1)].id)\n    } else if (e.key === \"ArrowUp\") {\n      e.preventDefault()\n      setActiveRowKey(users[Math.max(currentIndex - 1, 0)].id)\n    } else if (e.key === \"Enter\" || e.key === \" \") {\n      e.preventDefault()\n      if (activeRowKey) {\n        setSelectedKeys((prev) =>\n          prev.includes(activeRowKey)\n            ? prev.filter((k) => k !== activeRowKey)\n            : [...prev, activeRowKey],\n        )\n      }\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex gap-8 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"bg-selected-background size-4 rounded\" />\n          <span>Selected (checkbox checked)</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"bg-selected-background/70 size-4 rounded\" />\n          <span>Active (keyboard focus)</span>\n        </div>\n      </div>\n      <div className=\"text-secondary-foreground text-sm\">\n        <p>Selected: {selectedKeys.join(\", \") || \"None\"}</p>\n        <p>Active: {activeRowKey || \"None\"}</p>\n        <p className=\"mt-1 text-xs\">↑↓ to move focus, Enter/Space to toggle selection</p>\n      </div>\n      <div\n        tabIndex={0}\n        onKeyDown={handleKeyDown}\n        className=\"focus:ring-accent-background rounded-lg outline-none focus:ring-2\"\n      >\n        <Table<User>\n          data={users}\n          getRowKey={(user) => user.id}\n          selectable\n          selectedKeys={selectedKeys}\n          onSelectionChange={(keys) => setSelectedKeys(keys as string[])}\n          activeRowKey={activeRowKey}\n          onRowClick={(user) => setActiveRowKey(user.id)}\n          className=\"rounded-lg border\"\n        >\n          <Table.Header>\n            <Table.Column\n              id=\"id\"\n              width={100}\n            >\n              <Table.Value>ID</Table.Value>\n            </Table.Column>\n            <Table.Column\n              id=\"name\"\n              width={180}\n            >\n              <Table.Value>Name</Table.Value>\n            </Table.Column>\n            <Table.Column\n              id=\"email\"\n              flex={1}\n            >\n              <Table.Value>Email</Table.Value>\n            </Table.Column>\n            <Table.Column\n              id=\"status\"\n              width={100}\n            >\n              <Table.Value>Status</Table.Value>\n            </Table.Column>\n          </Table.Header>\n          <Table.Body<User>>\n            {(user, index) => (\n              <Table.Row\n                rowKey={user.id}\n                index={index}\n              >\n                <Table.Cell columnId=\"id\">\n                  <Table.Value>{user.id}</Table.Value>\n                </Table.Cell>\n                <Table.Cell columnId=\"name\">\n                  <Table.Value>{user.name}</Table.Value>\n                </Table.Cell>\n                <Table.Cell columnId=\"email\">\n                  <Table.Value>{user.email}</Table.Value>\n                </Table.Cell>\n                <Table.Cell columnId=\"status\">\n                  <StatusBadge status={user.status} />\n                </Table.Cell>\n              </Table.Row>\n            )}\n          </Table.Body>\n        </Table>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "data-display-table--playground",
      "name": "Playground",
      "exportName": "Playground",
      "description": "Interactive playground for testing configurations.\n\n**Key Features:**\n- Toggle row count, selection mode, virtualization\n- Live configuration changes\n- Performance testing with large datasets\n\n**Usage Tips:**\n- Test different configurations to find optimal settings\n- Compare performance with/without virtualization\n- Try different selection modes",
      "source": "import { Table } from \"@choice-ui/table\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const [rowCount, setRowCount] = useState(\"100\")\n  const [selectionMode, setSelectionMode] = useState<\"none\" | \"single\" | \"multiple\">(\"multiple\")\n  const [virtualized, setVirtualized] = useState(true)\n  const [selectedKeys, setSelectedKeys] = useState<(string | number)[]>([])\n\n  const users = useMemo(() => generateUsers(Number(rowCount)), [rowCount])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-wrap items-center gap-4\">\n        <div className=\"flex items-center gap-2\">\n          <Label>Rows:</Label>\n          <Select\n            value={rowCount}\n            onChange={setRowCount}\n          >\n            <Select.Trigger className=\"w-28\">\n              <Select.Value>{rowCount}</Select.Value>\n            </Select.Trigger>\n            <Select.Content>\n              <Select.Item value=\"10\">10</Select.Item>\n              <Select.Item value=\"100\">100</Select.Item>\n              <Select.Item value=\"1000\">1,000</Select.Item>\n              <Select.Item value=\"10000\">10,000</Select.Item>\n            </Select.Content>\n          </Select>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Label>Selection:</Label>\n          <Select\n            value={selectionMode}\n            onChange={(v) => setSelectionMode(v as typeof selectionMode)}\n          >\n            <Select.Trigger className=\"w-28\">\n              <Select.Value>{selectionMode}</Select.Value>\n            </Select.Trigger>\n            <Select.Content>\n              <Select.Item value=\"none\">None</Select.Item>\n              <Select.Item value=\"single\">Single</Select.Item>\n              <Select.Item value=\"multiple\">Multiple</Select.Item>\n            </Select.Content>\n          </Select>\n        </div>\n        <Checkbox\n          value={virtualized}\n          onChange={setVirtualized}\n        >\n          Virtualized\n        </Checkbox>\n        {selectionMode !== \"none\" && (\n          <span className=\"text-secondary-foreground text-sm\">\n            Selected: {selectedKeys.length}\n          </span>\n        )}\n      </div>\n      <Table\n        data={users}\n        getRowKey={(user) => user.id}\n        selectable={selectionMode !== \"none\"}\n        selectionMode={selectionMode === \"none\" ? \"multiple\" : selectionMode}\n        virtualized={virtualized}\n        selectedKeys={selectedKeys}\n        onSelectionChange={setSelectedKeys}\n        height={400}\n        className=\"w-full rounded-lg border\"\n      >\n        <Table.Header>\n          <Table.Column\n            id=\"id\"\n            width={100}\n          >\n            <Table.Value>ID</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"name\"\n            width={180}\n          >\n            <Table.Value>Name</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"email\"\n            flex={1}\n          >\n            <Table.Value>Email</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"role\"\n            width={120}\n          >\n            <Table.Value>Role</Table.Value>\n          </Table.Column>\n          <Table.Column\n            id=\"status\"\n            width={100}\n          >\n            <Table.Value>Status</Table.Value>\n          </Table.Column>\n        </Table.Header>\n        <Table.Body<User>>\n          {(user, index) => (\n            <Table.Row\n              rowKey={user.id}\n              index={index}\n            >\n              <Table.Cell columnId=\"id\">\n                <Table.Value>{user.id}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"name\">\n                <Table.Value>{user.name}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"email\">\n                <Table.Value>{user.email}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"role\">\n                <Table.Value>{user.role}</Table.Value>\n              </Table.Cell>\n              <Table.Cell columnId=\"status\">\n                <StatusBadge status={user.status} />\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "beta"
  ]
}