{
  "slug": "overlays/popover",
  "title": "Popover",
  "package": {
    "name": "@choice-ui/popover",
    "version": "0.0.7",
    "description": "Popover component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/modal": "workspace:*",
      "@choice-ui/slot": "workspace:*",
      "@floating-ui/react": "0.27.15",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "type PopoverProps",
    "DragPopover",
    "Popover"
  ],
  "props": [
    {
      "displayName": "DragPopover",
      "description": "",
      "props": [
        {
          "name": "autoSize",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "autoUpdate",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "closeOnEscape",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "contentRef",
          "type": "RefObject<HTMLDivElement> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultOpen",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "delay",
          "type": "{ close?: number | undefined; open?: number | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "draggable",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focusManagerProps",
          "type": "Partial<FloatingFocusManagerProps> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "initialFocus",
          "type": "number | MutableRefObject<HTMLElement | null> | undefined",
          "required": false,
          "description": "@deprecated use focusManagerProps.initialFocus instead"
        },
        {
          "name": "interactions",
          "type": "undefined | \"hover\" | \"click\" | \"focus\" | \"none\"",
          "required": false,
          "description": ""
        },
        {
          "name": "matchTriggerWidth",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "maxWidth",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "offset",
          "type": "OffsetOptions | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onOpenChange",
          "type": "((isOpen: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "open",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "outsidePressIgnore",
          "type": "string | boolean | string[] | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "placement",
          "type": "undefined | \"top\" | \"right\" | \"bottom\" | \"left\" | \"top-start\" | \"top-end\" | \"right-start\" | \"right-end\" | \"bottom-start\" | \"bottom-end\" | \"left-start\" | \"left-end\"",
          "required": false,
          "description": ""
        },
        {
          "name": "portalId",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "rememberPosition",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "root",
          "type": "HTMLElement | null | undefined",
          "required": false,
          "description": "Portal root element. When specified, the popover will be rendered into this element.\nThis is useful for detached windows - pass the detached window's document.body.\nIf not specified, will auto-detect from triggerRef's ownerDocument."
        },
        {
          "name": "triggerRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "Popover",
      "description": "",
      "props": [
        {
          "name": "autoSize",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "autoUpdate",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "closeOnEscape",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "contentRef",
          "type": "RefObject<HTMLDivElement> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultOpen",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "delay",
          "type": "{ close?: number | undefined; open?: number | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "draggable",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focusManagerProps",
          "type": "Partial<FloatingFocusManagerProps> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "initialFocus",
          "type": "number | MutableRefObject<HTMLElement | null> | undefined",
          "required": false,
          "description": "@deprecated use focusManagerProps.initialFocus instead"
        },
        {
          "name": "interactions",
          "type": "undefined | \"hover\" | \"click\" | \"focus\" | \"none\"",
          "required": false,
          "description": ""
        },
        {
          "name": "matchTriggerWidth",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "maxWidth",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "offset",
          "type": "OffsetOptions | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onOpenChange",
          "type": "((isOpen: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "open",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "outsidePressIgnore",
          "type": "string | boolean | string[] | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "placement",
          "type": "undefined | \"top\" | \"right\" | \"bottom\" | \"left\" | \"top-start\" | \"top-end\" | \"right-start\" | \"right-end\" | \"bottom-start\" | \"bottom-end\" | \"left-start\" | \"left-end\"",
          "required": false,
          "description": ""
        },
        {
          "name": "portalId",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "rememberPosition",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "root",
          "type": "HTMLElement | null | undefined",
          "required": false,
          "description": "Portal root element. When specified, the popover will be rendered into this element.\nThis is useful for detached windows - pass the detached window's document.body.\nIf not specified, will auto-detect from triggerRef's ownerDocument."
        },
        {
          "name": "triggerRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "overlays-popover--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "`Popover` is a versatile floating overlay component for displaying contextual content.\n\nFeatures:\n- Multiple positioning options with automatic adjustment\n- Various interaction modes (click, hover, focus)\n- Optional draggable behavior\n- Controlled and uncontrolled usage\n- Header component for titles or complex UI\n- Support for nested interactive elements\n- Outside press handling with customizable ignore zones\n\nUsage Guidelines:\n- Use for contextual information, forms, or interactive controls\n- Choose appropriate interaction mode based on content importance\n- Consider placement based on available screen space\n- Add headers for context when content is complex\n- Use controlled mode when you need to manage open state externally\n\nAccessibility:\n- Proper focus management\n- Keyboard navigation support\n- Appropriate ARIA attributes\n- Screen reader announcements for state changes\n- Escape key dismissal\nBasic: Demonstrates the simplest Popover implementation.\n\nFeatures:\n- Click interaction (default behavior)\n- Automatic positioning\n- Clean, consistent styling\n\nThis example shows the minimal configuration required to implement a\nfunctional popover with a button trigger and text content.",
      "source": "import { Popover } from \"@choice-ui/popover\"\n\nexport default function App() {\n\n  return (\n    <Popover>\n      <Popover.Trigger>\n        <Button>Open</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--default-open",
      "name": "Default Open",
      "exportName": "DefaultOpen",
      "description": "DefaultOpen: Demonstrates a popover that starts in the open state.\n\nFeatures:\n- Pre-opened state on initial render\n- Maintains all other popover behaviors\n\nThis pattern is useful for:\n- Drawing immediate attention to important content\n- Guiding users to available actions\n- Feature tours or onboarding",
      "source": "import { Popover } from \"@choice-ui/popover\"\n\nexport default function App() {\n\n  return (\n    <Popover defaultOpen>\n      <Popover.Trigger>\n        <Button>Open</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--offset",
      "name": "Offset",
      "exportName": "Offset",
      "description": "Offset: Demonstrates customizing the distance between trigger and popover.\n\nFeatures:\n- Configurable spacing between trigger and content\n- Maintains proper positioning and alignment\n\nThis pattern is useful for:\n- Creating more space between the trigger and content\n- Avoiding overlap with nearby elements\n- Achieving specific design requirements",
      "source": "import { Popover } from \"@choice-ui/popover\"\n\nexport default function App() {\n\n  return (\n    <div className=\"flex gap-4\">\n      <Popover offset={16}>\n        <Popover.Trigger>\n          <Button>Offset 16</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n      <Popover\n        placement=\"bottom-start\"\n        offset={{ mainAxis: -24, crossAxis: 16 }}\n      >\n        <Popover.Trigger>\n          <Button>Main Axis -24, Cross Axis 16</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--interactions",
      "name": "Interactions",
      "exportName": "Interactions",
      "description": "Interactions: Demonstrates different ways to trigger the popover.\n\nFeatures:\n- Click interaction (default)\n- Hover interaction with optimized configuration\n- Focus interaction for accessibility\n- Manual control with none interaction\n\nNote: Hover interaction has been optimized to prevent flickering:\n- move: false - prevents accidental triggers during movement\n- mouseOnly: true - avoids touch event interference\n- optimized delays and safePolygon settings",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [manualOpen, setManualOpen] = useState(false)\n\n  return (\n    <div className=\"grid grid-cols-2 gap-8\">\n      <div className=\"space-y-2\">\n        <h3>Click (Default)</h3>\n        <Popover>\n          <Popover.Trigger>\n            <Button>Click to open</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(2)}</Popover.Content>\n        </Popover>\n\n        <h3>Hover</h3>\n        <Popover interactions=\"hover\">\n          <Popover.Trigger>\n            <Button>Hover to open</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(2)}</Popover.Content>\n        </Popover>\n      </div>\n\n      <div className=\"space-y-2\">\n        <h3>Focus</h3>\n        <Popover interactions=\"focus\">\n          <Popover.Trigger>\n            <Button>Focus to open</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(2)}</Popover.Content>\n        </Popover>\n\n        <h3>Manual Control</h3>\n        <div className=\"space-y-2\">\n          <Button\n            onClick={() => setManualOpen(!manualOpen)}\n            variant={manualOpen ? \"secondary\" : \"primary\"}\n          >\n            {manualOpen ? \"Close\" : \"Open\"} Manually\n          </Button>\n          <Popover\n            interactions=\"none\"\n            open={manualOpen}\n            onOpenChange={setManualOpen}\n          >\n            <Popover.Trigger>\n              <Button disabled>Manual trigger</Button>\n            </Popover.Trigger>\n            <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(2)}</Popover.Content>\n          </Popover>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--controlled",
      "name": "Controlled",
      "exportName": "Controlled",
      "description": "Controlled: Demonstrates managing the popover's open state externally.\n\nFeatures:\n- External state management\n- Programmatic open/close control\n- Visual feedback on the trigger button\n\nThis pattern is useful for:\n- Complex interactions with other components\n- Form validation or data-dependent display\n- Wizard or stepped interfaces",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <Popover\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button active={open}>Click: {open ? \"Close\" : \"Open\"}</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--controlled-fixed",
      "name": "Controlled Fixed",
      "exportName": "ControlledFixed",
      "description": "ControlledFixed: Demonstrates a controlled popover with fixed position.\n\nFeatures:\n- Fixed position\n- Controlled open state\n- Toggle count\n- Force open/close\n\nThis pattern is useful for:\n- Popovers that need to be in a specific location\n- Dashboard interfaces where popovers need to be in a specific location\n- Popovers that need to be in a specific location\n\nNote: This pattern is based on the correct implementation in the Floating UI official\ndocumentation.",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [toggleCount, setToggleCount] = useState(0)\n\n  const handleToggle = () => {\n    setOpen(!open)\n    setToggleCount((prev) => prev + 1)\n  }\n\n  const handleOpenChange = (isOpen: boolean) => {\n    setOpen(isOpen)\n    if (isOpen) {\n      setToggleCount((prev) => prev + 1)\n    }\n  }\n\n  return (\n    <div className=\"w-md space-y-6\">\n      <div className=\"rounded-xl border p-4\">\n        <h3 className=\"font-strong mb-2\">Controlled</h3>\n        <p>\n          Based on the correct implementation in the Floating UI official documentation, it solves\n          the problem of not being able to display again after closing once\n        </p>\n      </div>\n\n      <div className=\"rounded-xl border border-gray-200 bg-gray-50 p-4\">\n        <div className=\"mb-4 space-y-2\">\n          <div className=\"font-strong\">\n            Current state:\n            <span className={tcx(open ? \"text-success-foreground\" : \"text-danger-foreground\")}>\n              {open ? \" OPEN\" : \" CLOSED\"}\n            </span>\n          </div>\n          <p>\n            Toggle count: <span className=\"font-mono\">{toggleCount}</span>\n          </p>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <Button\n            onClick={handleToggle}\n            variant={open ? \"destructive\" : \"success\"}\n          >\n            {open ? \"Close\" : \"Open\"} Popover\n          </Button>\n\n          <Button\n            onClick={() => setOpen(true)}\n            disabled={open}\n            variant=\"success\"\n          >\n            Force open\n          </Button>\n\n          <Button\n            onClick={() => setOpen(false)}\n            disabled={!open}\n            variant=\"destructive\"\n          >\n            Force close\n          </Button>\n        </div>\n      </div>\n\n      <Popover\n        open={open}\n        onOpenChange={handleOpenChange}\n      >\n        <Popover.Trigger>\n          <Button>Popover trigger</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-80 p-4\">\n          <div className=\"space-y-3\">\n            <h4 className=\"font-strong\">Controlled</h4>\n            <p className=\"text-secondary-foreground\">\n              This Popover uses controlled mode, based on the correct implementation in the\n              Floating UI official documentation.\n            </p>\n\n            <div className=\"text-secondary-foreground\">Toggle count: {toggleCount}</div>\n          </div>\n        </Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--trigger-ref",
      "name": "Trigger Ref",
      "exportName": "TriggerRef",
      "description": "TriggerRef: Demonstrates using an external trigger element.\n\nFeatures:\n- Reference to external trigger element\n- Complete separation of trigger and popover\n- Controlled open state\n\nThis pattern is useful for:\n- Complex layouts where the trigger needs to be in a different component\n- Dynamically generated UI where the popover needs to be positioned relative to existing elements\n- Advanced application architectures with separated components",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const triggerRef = useRef<HTMLButtonElement>(null)\n  return (\n    <>\n      <Button\n        ref={triggerRef}\n        active={open}\n        onClick={() => setOpen(!open)}\n      >\n        {open ? \"Close\" : \"Open\"}\n      </Button>\n\n      <Popover\n        triggerRef={triggerRef}\n        open={open}\n        onOpenChange={setOpen}\n      >\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n    </>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--placement",
      "name": "Placement",
      "exportName": "Placement",
      "description": "Placement: Demonstrates different positioning options for the popover.\n\nFeatures:\n- 12 different placement options\n- Automatically adjusts to available space\n- Dynamic positioning based on trigger location\n\nUsage Guidelines:\n- Choose appropriate placement based on UI layout\n- Consider screen edges and available space\n- Default to logical positions (e.g., dropdown menus below triggers)",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const PLACEMENTS = [\n    { label: \"Top\", value: \"top\" },\n    { label: \"Top Start\", value: \"top-start\" },\n    { label: \"Top End\", value: \"top-end\" },\n    { label: \"Bottom\", value: \"bottom\" },\n    { label: \"Bottom Start\", value: \"bottom-start\" },\n    { label: \"Bottom End\", value: \"bottom-end\" },\n    { label: \"Left\", value: \"left\" },\n    { label: \"Left Start\", value: \"left-start\" },\n    { label: \"Left End\", value: \"left-end\" },\n    { label: \"Right\", value: \"right\" },\n    { label: \"Right Start\", value: \"right-start\" },\n    { label: \"Right End\", value: \"right-end\" },\n  ]\n  const triggerRefs = useRef<Map<string, HTMLButtonElement>>(new Map())\n  const [placement, setPlacement] = useState<FloatingPlacement>(\"bottom-start\")\n  const [open, setOpen] = useState(false)\n\n  const handleButtonClick = (newPlacement: FloatingPlacement) => {\n    React.startTransition(() => {\n      setPlacement(newPlacement)\n      setOpen(true)\n    })\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-3 gap-2\">\n        {PLACEMENTS.map((option) => {\n          return (\n            <Button\n              active={placement === option.value && open}\n              variant=\"secondary\"\n              ref={(node) => {\n                if (node) {\n                  triggerRefs.current.set(option.value, node)\n                }\n              }}\n              key={option.value}\n              onMouseDown={() => handleButtonClick(option.value as FloatingPlacement)}\n            >\n              {option.label}\n            </Button>\n          )\n        })}\n      </div>\n\n      <Popover\n        triggerRef={{ current: triggerRefs.current.get(placement) ?? null }}\n        placement={placement}\n        open={open}\n        onOpenChange={setOpen}\n      >\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n    </>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--draggable",
      "name": "Draggable",
      "exportName": "Draggable",
      "description": "Draggable: Demonstrates a draggable popover with header.\n\nFeatures:\n- User can move the popover by dragging the header\n- Maintains state and content during dragging\n- Provides header as drag handle\n\nThis pattern is useful for:\n- Complex UI where users may need to see content behind the popover\n- Workspaces or dashboard interfaces\n- Multi-step forms where comparing information is needed",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <Popover\n      draggable\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button active={open}>Drag: {open ? \"Close\" : \"Open\"}</Button>\n      </Popover.Trigger>\n\n      <Popover.Header title=\"Drag\" />\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--remember-position",
      "name": "Remember Position",
      "exportName": "RememberPosition",
      "description": "RememberPosition: Demonstrates a popover that remembers its position when closed.\n\nFeatures:\n- Maintains its position when closed\n- Reappears in the same position when opened\n\nThis pattern is useful for:\n- Popovers that need to remember their position when closed\n- Dashboard interfaces where popovers need to be in a specific location",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <Popover\n      draggable\n      rememberPosition\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button>Remember Position</Button>\n      </Popover.Trigger>\n      <Popover.Header title=\"Remember Position\" />\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--outside-press-ignore",
      "name": "Outside Press Ignore",
      "exportName": "OutsidePressIgnore",
      "description": "OutsidePressIgnore: Demonstrates excluding elements from outside click dismissal.\n\nFeatures:\n- Define areas where clicks won't dismiss the popover\n- Maintains typical behavior for non-ignored areas\n- Uses CSS class-based targeting\n\nThis pattern is useful for:\n- Complex interfaces with related but separate UI elements\n- Preventing accidental dismissal for important popovers\n- Creating modal-like experiences without full modals",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <div className=\"outside-press-ignore rounded-xl border p-16\">\n      <Popover\n        open={open}\n        onOpenChange={setOpen}\n        outsidePressIgnore=\"outside-press-ignore\"\n      >\n        <Popover.Trigger>\n          <Button>{open ? \"Close\" : \"Open\"}</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--outside-press-ignore-array",
      "name": "Outside Press Ignore Array",
      "exportName": "OutsidePressIgnoreArray",
      "description": "OutsidePressIgnoreArray: Demonstrates excluding specific elements from outside click dismissal.\n\nFeatures:\n- Exclude specific elements from outside click dismissal\n- Maintains typical behavior for non-ignored areas\n- Uses array value to determine if specific elements should be ignored\n\nThis pattern is useful for:\n- Complex interfaces with related but separate UI elements\n- Preventing accidental dismissal for important popovers\n- Creating modal-like experiences without full modals",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <div className=\"flex items-center gap-4\">\n      <div className=\"outside-press-ignore-1 rounded-xl border p-16\">Outside Press Ignore 1</div>\n\n      <Popover\n        open={open}\n        onOpenChange={setOpen}\n        outsidePressIgnore={[\"outside-press-ignore-1\", \"outside-press-ignore-2\"]}\n      >\n        <Popover.Trigger>\n          <Button>{open ? \"Close\" : \"Open\"}</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n\n      <div className=\"outside-press-ignore-2 rounded-xl border p-16\">Outside Press Ignore 2</div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--outside-press-ignore-boolean",
      "name": "Outside Press Ignore Boolean",
      "exportName": "OutsidePressIgnoreBoolean",
      "description": "OutsidePressIgnoreBoolean: Demonstrates excluding all elements from outside click dismissal.\n\nFeatures:\n- Exclude all elements from outside click dismissal\n- Maintains typical behavior for non-ignored areas\n- Uses boolean value to determine if all elements should be ignored\n\nThis pattern is useful for:\n- Complex interfaces with related but separate UI elements\n- Preventing accidental dismissal for important popovers\n- Creating modal-like experiences without full modals",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <Popover\n      open={open}\n      onOpenChange={setOpen}\n      outsidePressIgnore={true}\n    >\n      <Popover.Header title=\"Outside Press Ignore Boolean\" />\n      <Popover.Trigger>\n        <Button>{open ? \"Close\" : \"Open\"}</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--header",
      "name": "Header",
      "exportName": "Header",
      "description": "Header: Demonstrates adding complex UI to the popover header.\n\nFeatures:\n- Custom header content (tabs in this example)\n- Interactive elements within the header\n- State management for header components\n\nThis pattern is useful for:\n- Categorized or tabbed content within a popover\n- Complex toolbars or controls\n- Multi-step or wizard interfaces",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [tab, setTab] = useState(\"tab-1\")\n\n  const header = useMemo(\n    () => (\n      <div className=\"flex h-10 items-center justify-between px-3\">\n        <Tabs\n          value={tab}\n          onChange={setTab}\n        >\n          <Tabs.Item value=\"tab-1\">Tab 1</Tabs.Item>\n          <Tabs.Item value=\"tab-2\">Tab 2</Tabs.Item>\n          <Tabs.Item value=\"tab-3\">Tab 3</Tabs.Item>\n        </Tabs>\n      </div>\n    ),\n    [tab, setTab],\n  )\n\n  return (\n    <Popover\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button>{open ? \"Close\" : \"Open\"}</Button>\n      </Popover.Trigger>\n      <Popover.Header>{header}</Popover.Header>\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--nested",
      "name": "Nested",
      "exportName": "Nested",
      "description": "Nested: Demonstrates popovers containing other interactive components.\n\nFeatures:\n- Proper nesting of interactive components\n- Focus and event handling across nested elements\n- Multiple overlay layers with correct stacking\n\nThis pattern is useful for:\n- Complex application interfaces\n- Rich editing tools or property panels\n- Form interfaces requiring nested selection controls",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  return (\n    <Popover\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button>{open ? \"Close\" : \"Open\"}</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"flex gap-4 p-4\">\n        <Select\n          value=\"option-1\"\n          onChange={() => {}}\n        >\n          <Select.Trigger>Select</Select.Trigger>\n          <Select.Content>\n            <Select.Item value=\"option-1\">Option 1</Select.Item>\n            <Select.Item value=\"option-2\">Option 2</Select.Item>\n          </Select.Content>\n        </Select>\n\n        <Popover>\n          <Popover.Trigger>\n            <Button>Popover</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n        </Popover>\n\n        <Dropdown disabledNested>\n          <Dropdown.Trigger>Dropdown</Dropdown.Trigger>\n          <Dropdown.Content>\n            <Dropdown.Item>Option 1</Dropdown.Item>\n            <Dropdown.Item>Option 2</Dropdown.Item>\n          </Dropdown.Content>\n        </Dropdown>\n      </Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--always-open",
      "name": "Always Open",
      "exportName": "AlwaysOpen",
      "description": "AlwaysOpen: Demonstrates a popover that is always open.\n\nFeatures:\n- Pre-opened state on initial render\n- Maintains all other popover behaviors",
      "source": "import { Popover } from \"@choice-ui/popover\"\n\nexport default function App() {\n\n  return (\n    <Popover\n      open\n      draggable\n      rememberPosition\n    >\n      <Popover.Trigger>\n        <Button>Open</Button>\n      </Popover.Trigger>\n      <Popover.Header title=\"Always Open\" />\n      <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--auto-height",
      "name": "Auto Height",
      "exportName": "AutoHeight",
      "description": "AutoHeight: Demonstrates a popover with auto height.\n\nFeatures:\n- Automatically adjusts the height of the popover content\n- Maintains typical behavior for non-ignored areas",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [autoSize, setAutoSize] = useState(true)\n  return (\n    <div className=\"flex gap-4\">\n      <Popover\n        open={open}\n        onOpenChange={setOpen}\n        autoUpdate\n        draggable\n        autoSize={autoSize}\n      >\n        <Popover.Trigger>\n          <Button>Open</Button>\n        </Popover.Trigger>\n        <Popover.Header title=\"Auto Height\" />\n        <Popover.Content className=\"flex w-64 flex-col overflow-hidden\">\n          <ScrollArea className=\"flex flex-col\">\n            <ScrollArea.Viewport className=\"p-3\">\n              <ScrollArea.Content>{faker.lorem.sentences(50)}</ScrollArea.Content>\n            </ScrollArea.Viewport>\n          </ScrollArea>\n        </Popover.Content>\n      </Popover>\n\n      <Button\n        variant=\"secondary\"\n        onClick={() => setAutoSize(!autoSize)}\n      >\n        {autoSize ? \"Disable Auto Size\" : \"Enable Auto Size\"}\n      </Button>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--multi-trigger",
      "name": "Multi Trigger",
      "exportName": "MultiTrigger",
      "description": "",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [leftValue, setLeftValue] = useState(0)\n  const [rightValue, setRightValue] = useState(0)\n\n  const leftTriggerRef = useRef<HTMLButtonElement>(null)\n  const rightTriggerRef = useRef<HTMLButtonElement>(null)\n\n  const [currentTrigger, setCurrentTrigger] = useState<\"left\" | \"right\" | null>(null)\n\n  const [open, setOpen] = useState(false)\n\n  const handleTriggerClick = (trigger: \"left\" | \"right\") => {\n    React.startTransition(() => {\n      setCurrentTrigger(trigger)\n      setOpen(true)\n    })\n  }\n\n  return (\n    <div className=\"grid grid-cols-2 gap-4\">\n      <NumericInput\n        value={leftValue}\n        onChange={(value) => setLeftValue(value as number)}\n      >\n        <NumericInput.Suffix type=\"action\">\n          <Dropdown>\n            <Dropdown.Trigger\n              asChild\n              ref={leftTriggerRef}\n            >\n              <NumericInputMenuTrigger type=\"action\" />\n            </Dropdown.Trigger>\n            <Dropdown.Content>\n              <Dropdown.Item>Option 1</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item onMouseUp={() => handleTriggerClick(\"left\")}>\n                Open Popover\n              </Dropdown.Item>\n            </Dropdown.Content>\n          </Dropdown>\n        </NumericInput.Suffix>\n      </NumericInput>\n\n      <NumericInput\n        value={rightValue}\n        onChange={(value) => setRightValue(value as number)}\n      >\n        <NumericInput.Suffix type=\"action\">\n          <Dropdown>\n            <Dropdown.Trigger\n              asChild\n              ref={rightTriggerRef}\n            >\n              <NumericInputMenuTrigger type=\"action\" />\n            </Dropdown.Trigger>\n            <Dropdown.Content>\n              <Dropdown.Item>Option 1</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item onMouseUp={() => handleTriggerClick(\"right\")}>\n                Open Popover\n              </Dropdown.Item>\n            </Dropdown.Content>\n          </Dropdown>\n        </NumericInput.Suffix>\n      </NumericInput>\n\n      <Popover\n        triggerRef={currentTrigger === \"left\" ? leftTriggerRef : rightTriggerRef}\n        placement=\"bottom-end\"\n        open={open}\n        onOpenChange={setOpen}\n        draggable\n      >\n        <Popover.Header title=\"Action\" />\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--test",
      "name": "Test",
      "exportName": "Test",
      "description": "",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const triggerRef = useRef<HTMLButtonElement>(null)\n  return (\n    <div>\n      <Popover\n        draggable\n        triggerRef={triggerRef}\n        open={open}\n        onOpenChange={setOpen}\n      >\n        <Popover.Content className=\"w-64 p-3\">{faker.lorem.paragraph(3)}</Popover.Content>\n      </Popover>\n      <Button\n        ref={triggerRef}\n        onClick={() => setOpen(!open)}\n      >\n        Open\n      </Button>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--multiple-popovers",
      "name": "Multiple Popovers",
      "exportName": "MultiplePopovers",
      "description": "MultiplePopovers: 测试多个 Popover 同时存在的情况\n\nFeatures:\n- 多个 Popover 同时存在\n- 测试开启关闭逻辑\n- 验证 FloatingTree 的作用\n\n问题重现：\n1. 点击第一个 Popover 打开\n2. 点击第二个 Popover 时，第一个会先关闭\n3. 需要再次点击第二个按钮才能打开第二个 Popover",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [popover1Open, setPopover1Open] = useState(false)\n  const [popover2Open, setPopover2Open] = useState(false)\n  const [popover3Open, setPopover3Open] = useState(false)\n\n  return (\n    <div className=\"w-md space-y-6\">\n      <div className=\"rounded-xl border p-4\">\n        <h3 className=\"font-strong mb-2\">Test</h3>\n        <p>\n          Test scenario: There are multiple Popovers on a canvas, when the first Popover is\n          opened, click the second Popover button\n        </p>\n        <div className=\"mt-2\">\n          <strong>Expected behavior:</strong> The first Popover closes, and the second opens\n          immediately\n          <br />\n          <strong>Actual behavior:</strong> The first Popover closes, and the second needs to be\n          clicked again to open\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-4\">\n        <div className=\"space-y-4\">\n          <h4 className=\"font-strong\">Popover 1</h4>\n          <div className=\"text-body-small text-gray-600\">\n            Status: {popover1Open ? \"Open\" : \"Close\"}\n          </div>\n          <Popover\n            open={popover1Open}\n            onOpenChange={setPopover1Open}\n          >\n            <Popover.Trigger>\n              <Button variant={popover1Open ? \"secondary\" : \"primary\"}>Popover 1</Button>\n            </Popover.Trigger>\n            <Popover.Content className=\"w-64 p-3\">\n              <div className=\"space-y-2\">\n                <h5 className=\"font-strong\">Popover 1 content</h5>\n                <p className=\"text-body-small text-gray-600\">\n                  This is the content of the first Popover. Now keep it open, then click the\n                  Popover 2 button to test.\n                </p>\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => setPopover1Open(false)}\n                >\n                  Close\n                </Button>\n              </div>\n            </Popover.Content>\n          </Popover>\n        </div>\n\n        <div className=\"space-y-4\">\n          <h4 className=\"font-strong\">Popover 2</h4>\n          <div className=\"text-body-small text-gray-600\">\n            Status: {popover2Open ? \"Open\" : \"Close\"}\n          </div>\n          <Popover\n            open={popover2Open}\n            onOpenChange={setPopover2Open}\n          >\n            <Popover.Trigger>\n              <Button variant={popover2Open ? \"secondary\" : \"primary\"}>Popover 2</Button>\n            </Popover.Trigger>\n            <Popover.Content className=\"w-64 p-3\">\n              <div className=\"space-y-2\">\n                <h5 className=\"font-strong\">Popover 2 content</h5>\n                <p className=\"text-body-small text-gray-600\">\n                  This is the content of the second Popover. If it opens with one click, the\n                  problem has been fixed.\n                </p>\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => setPopover2Open(false)}\n                >\n                  Close\n                </Button>\n              </div>\n            </Popover.Content>\n          </Popover>\n        </div>\n\n        <div className=\"space-y-4\">\n          <h4 className=\"font-strong\">Popover 3</h4>\n          <div className=\"text-body-small text-gray-600\">\n            Status: {popover3Open ? \"Open\" : \"Close\"}\n          </div>\n          <Popover\n            open={popover3Open}\n            onOpenChange={setPopover3Open}\n          >\n            <Popover.Trigger>\n              <Button variant={popover3Open ? \"secondary\" : \"primary\"}>Popover 3</Button>\n            </Popover.Trigger>\n            <Popover.Content className=\"w-64 p-3\">\n              <div className=\"space-y-2\">\n                <h5 className=\"font-strong\">Popover 3 content</h5>\n                <p className=\"text-body-small text-gray-600\">\n                  This is the content of the third Popover.\n                </p>\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => setPopover3Open(false)}\n                >\n                  Close\n                </Button>\n              </div>\n            </Popover.Content>\n          </Popover>\n        </div>\n      </div>\n\n      <div className=\"rounded-xl border border-gray-200 bg-gray-50 p-4\">\n        <h4 className=\"font-strong mb-2\">Test steps:</h4>\n        <ol className=\"text-body-small list-inside list-decimal space-y-1 text-gray-700\">\n          <li>Click the &quot;Popover 1&quot; button to open the first Popover</li>\n          <li>Keep the Popover 1 open, click the &quot;Popover 2&quot; button</li>\n          <li>Observe if you need to click twice to open Popover 2</li>\n          <li>Test the switch from Popover 2 to Popover 3</li>\n          <li>Test the switch from Popover 3 to Popover 1</li>\n        </ol>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            setPopover1Open(false)\n            setPopover2Open(false)\n            setPopover3Open(false)\n          }}\n        >\n          Close all Popovers\n        </Button>\n\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            setPopover1Open(true)\n            setPopover2Open(true)\n            setPopover3Open(true)\n          }}\n        >\n          Open all Popovers (test overlapping)\n        </Button>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--max-width",
      "name": "Max Width",
      "exportName": "MaxWidth",
      "description": "",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(1)\n  return (\n    <div>\n      <Popover maxWidth={640}>\n        <Popover.Trigger>\n          <Button>Open</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"p-3\">\n          {faker.lorem.paragraph(value)}\n          <div className=\"flex gap-2\">\n            <Button onClick={() => setValue(value + 1)}>Add</Button>\n            <Button onClick={() => setValue(value - 1)}>Sub</Button>\n          </div>\n        </Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--close-on-escape",
      "name": "Close On Escape",
      "exportName": "CloseOnEscape",
      "description": "CloseOnEscape: Demonstrates the closeOnEscape prop functionality.\nBy default, popovers can be closed with the ESC key. This story shows\ntwo popovers - one with ESC key enabled (default) and one with it disabled.",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [escEnabledOpen, setEscEnabledOpen] = useState(false)\n  const [escDisabledOpen, setEscDisabledOpen] = useState(false)\n\n  return (\n    <div className=\"flex gap-8\">\n      <div className=\"flex flex-col gap-2\">\n        <Button onClick={() => setEscEnabledOpen(!escEnabledOpen)}>\n          Popover with ESC (Default)\n        </Button>\n        <p className=\"text-secondary-foreground text-body-small\">Press ESC to close</p>\n\n        <Popover\n          open={escEnabledOpen}\n          onOpenChange={setEscEnabledOpen}\n          closeOnEscape={true}\n        >\n          <Popover.Trigger>\n            <Button style={{ display: \"none\" }}>Hidden Trigger</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-72 p-3\">\n            <p>This popover can be closed by pressing the ESC key.</p>\n            <p className=\"text-secondary-foreground text-body-small mt-2\">\n              Try pressing ESC to close this popover.\n            </p>\n          </Popover.Content>\n        </Popover>\n      </div>\n\n      <div className=\"flex flex-col gap-2\">\n        <Button onClick={() => setEscDisabledOpen(!escDisabledOpen)}>Popover without ESC</Button>\n        <p className=\"text-secondary-foreground text-body-small\">ESC key disabled</p>\n\n        <Popover\n          open={escDisabledOpen}\n          onOpenChange={setEscDisabledOpen}\n          closeOnEscape={false}\n        >\n          <Popover.Trigger>\n            <Button style={{ display: \"none\" }}>Hidden Trigger</Button>\n          </Popover.Trigger>\n          <Popover.Content className=\"w-72 p-3\">\n            <p>This popover cannot be closed by pressing the ESC key.</p>\n            <p className=\"text-secondary-foreground text-body-small mt-2\">\n              You must click outside or use the button to close this popover.\n            </p>\n          </Popover.Content>\n        </Popover>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--event-propagation",
      "name": "Event Propagation",
      "exportName": "EventPropagation",
      "description": "EventPropagation: Verifies that ESC key events do not propagate to window.\nPress ESC outside popover to increment counter, then press ESC inside popover\nto close it without incrementing the counter.",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [escCount, setEscCount] = useState(0)\n\n  React.useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        setEscCount((prev) => prev + 1)\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleEscape)\n    return () => window.removeEventListener(\"keydown\", handleEscape)\n  }, [])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <p>\n        Window ESC count: <strong>{escCount}</strong>\n      </p>\n      <p className=\"text-secondary-foreground text-body-small\">\n        Press ESC to increment. Open popover and press ESC - counter should NOT change.\n      </p>\n\n      <Popover\n        open={open}\n        onOpenChange={setOpen}\n      >\n        <Popover.Trigger>\n          <Button>Open Popover</Button>\n        </Popover.Trigger>\n        <Popover.Content className=\"w-72 p-3\">\n          Press ESC to close. The window counter should not increment.\n        </Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--match-trigger-width",
      "name": "Match Trigger Width",
      "exportName": "MatchTriggerWidth",
      "description": "MatchTriggerWidth: Demonstrates the matchTriggerWidth prop functionality.\nBy default, popovers will not match the width of the trigger. This story shows\ntwo popovers - one with matchTriggerWidth enabled and one with it disabled.",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [matchTriggerWidthOpen, setMatchTriggerWidthOpen] = useState(false)\n  const triggerRef = useRef<HTMLButtonElement>(null)\n  return (\n    <div className=\"flex gap-8\">\n      <div className=\"flex flex-col gap-2\">\n        <Button\n          ref={triggerRef}\n          onClick={() => setMatchTriggerWidthOpen(!matchTriggerWidthOpen)}\n        >\n          Popover with matchTriggerWidth\n        </Button>\n\n        <Popover\n          triggerRef={triggerRef}\n          open={matchTriggerWidthOpen}\n          onOpenChange={setMatchTriggerWidthOpen}\n          matchTriggerWidth={true}\n        >\n          <Popover.Content className=\"p-3\">\n            <p>This popover will match the width of the trigger.</p>\n          </Popover.Content>\n        </Popover>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--popover-footer",
      "name": "Popover Footer",
      "exportName": "PopoverFooter",
      "description": "Popover footer",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [popoverOpen, setPopoverOpen] = useState(false)\n  return (\n    <Popover\n      open={popoverOpen}\n      onOpenChange={setPopoverOpen}\n    >\n      <Popover.Trigger>\n        <Button variant={popoverOpen ? \"secondary\" : \"primary\"}>Popover</Button>\n      </Popover.Trigger>\n      <Popover.Content className=\"w-64 p-3\">\n        <div className=\"space-y-2\">\n          <h5 className=\"font-strong\">Popover content</h5>\n          <p className=\"text-body-small text-gray-600\">This is the content of the Popover.</p>\n        </div>\n      </Popover.Content>\n      <Popover.Footer>\n        <Button\n          variant=\"secondary\"\n          onClick={() => setPopoverOpen(false)}\n        >\n          Close\n        </Button>\n      </Popover.Footer>\n    </Popover>\n  )\n\n}"
    },
    {
      "id": "overlays-popover--with-input",
      "name": "With Input",
      "exportName": "WithInput",
      "description": "WithInput: Demonstrates a popover containing input fields for user data entry.\nThis example shows a typical form popover pattern with text inputs and action buttons.\n\nKeyboard behavior:\n- ESC in input field: Blur the input (does not close popover)\n- ESC outside input field: Close the popover\n\nImplementation: Input handles ESC to blur and stops propagation.\nPopover only receives ESC events when focus is not on an input.",
      "source": "import { Popover } from \"@choice-ui/popover\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n\n  const handleSubmit = () => {\n    console.log(\"Form submitted:\", { name, email })\n    setOpen(false)\n    setName(\"\")\n    setEmail(\"\")\n  }\n\n  const handleCancel = () => {\n    setOpen(false)\n    setName(\"\")\n    setEmail(\"\")\n  }\n\n  const handleInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Escape\") {\n      // Blur the input\n      e.currentTarget.blur()\n      // Stop propagation to prevent Popover from closing\n      e.stopPropagation()\n    }\n  }\n\n  return (\n    <Popover\n      open={open}\n      onOpenChange={setOpen}\n    >\n      <Popover.Trigger>\n        <Button>Open Form Popover</Button>\n      </Popover.Trigger>\n      <Popover.Header title=\"User Information\" />\n      <Popover.Content className=\"w-80 p-4\">\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex flex-col gap-2\">\n            <label\n              htmlFor=\"popover-name-input\"\n              className=\"text-body-medium font-strong\"\n            >\n              Name\n            </label>\n            <Input\n              id=\"popover-name-input\"\n              placeholder=\"Enter your name\"\n              value={name}\n              onChange={setName}\n              onKeyDown={handleInputKeyDown}\n              autoFocus\n            />\n          </div>\n          <div className=\"flex flex-col gap-2\">\n            <label\n              htmlFor=\"popover-email-input\"\n              className=\"text-body-medium font-strong\"\n            >\n              Email\n            </label>\n            <Input\n              id=\"popover-email-input\"\n              type=\"email\"\n              placeholder=\"Enter your email\"\n              value={email}\n              onChange={setEmail}\n              onKeyDown={handleInputKeyDown}\n            />\n          </div>\n          <p className=\"text-secondary-foreground text-body-small\">\n            Press ESC in an input to blur it. Press ESC outside inputs to close the popover.\n          </p>\n        </div>\n      </Popover.Content>\n      <Popover.Footer className=\"flex justify-end gap-2 p-3\">\n        <Button\n          variant=\"ghost\"\n          onClick={handleCancel}\n        >\n          Cancel\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={handleSubmit}\n          disabled={!name || !email}\n        >\n          Submit\n        </Button>\n      </Popover.Footer>\n    </Popover>\n  )\n\n}"
    }
  ]
}