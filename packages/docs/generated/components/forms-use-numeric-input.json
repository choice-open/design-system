{
  "slug": "forms/use-numeric-input",
  "title": "useNumericInput",
  "package": {
    "name": "@choice-ui/numeric-input",
    "version": "0.0.7",
    "description": "Numeric Input component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/chip": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/icon-button": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/tooltip": "workspace:*",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "type ElementType",
    "type NumericInputElementProps",
    "NumericInputElement",
    "NumericInputMenuTrigger",
    "NumericInputMenuActionPrompt",
    "NumericInputVariable",
    "useNumericInput",
    "useStepCalculation",
    "useNumericValueProcessing",
    "useInputInteractions",
    "type NumericInputProps",
    "NumericInputBase",
    "NumericInput",
    "type NumberResult",
    "type NumericInputValue"
  ],
  "props": [
    {
      "displayName": "NumericInput",
      "description": "",
      "props": [
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: NumericInputValue, detail: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "step",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "id",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "selected",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "classNames",
          "type": "{ container?: string | undefined; input?: string | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "triggerRef",
          "type": "RefObject<HTMLDivElement> | ((el: HTMLDivElement | null) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerPressed",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerProps",
          "type": "Record<string, unknown> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onIsEditingChange",
          "type": "((isEditing: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressEnd",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressStart",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "shiftStep",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "enum",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "forms-usenumericinput--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "# useNumericInput Hook\n\nA powerful React hook that provides comprehensive numeric input functionality\nincluding value processing, keyboard navigation, and interactive adjustments.\n\n## Core Features\n- Basic number input with validation\n- Expression evaluation (math calculations)\n- Pattern-based formatting (units, multiple values)\n- Keyboard navigation (arrow keys, modifiers)\n- Drag-to-adjust values\n- Constraint handling (min/max/step)\nBasic implementation showcasing core functionality:\n- Number input with validation\n- Drag-to-adjust value\n- Value display and formatting",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Current value: {value}</div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--expression",
      "name": "Expression",
      "exportName": "Expression",
      "description": "Demonstrates expression patterns with unit formatting:\n- Input values with units (e.g., \"100px\")\n- Automatic parsing and formatting\n- Unit preservation during interactions",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter value\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Current value: {value}</div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--multiple-values",
      "name": "Multiple Values",
      "exportName": "MultipleValues",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"x,y\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        X: {value.x}, Y: {value.y}\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--constraints",
      "name": "Constraints",
      "exportName": "Constraints",
      "description": "Demonstrates value constraints and step controls:\n- Min/max boundaries\n- Step increments\n- Modifier keys for step adjustment\n- Decimal precision control",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"0-100\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        Value: {value}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Min: 0, Max: 100, Step: 5 (Shift: 20)\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--array-values",
      "name": "Array Values",
      "exportName": "ArrayValues",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter numbers\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Values: {value.join(\", \")}</div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--states",
      "name": "States",
      "exportName": "States",
      "description": "Demonstrates input field states:\n- Disabled state\n- ReadOnly state\n- Visual state feedback",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div className=\"flex gap-4\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isDisabled}\n            onChange={(e) => setIsDisabled(e.target.checked)}\n          />{\" \"}\n          Disabled\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isReadOnly}\n            onChange={(e) => setIsReadOnly(e.target.checked)}\n          />{\" \"}\n          ReadOnly\n        </label>\n      </div>\n      <div>Value: {value}</div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--math-expressions",
      "name": "Math Expressions",
      "exportName": "MathExpressions",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1 font-mono\"\n          placeholder=\"Math expression\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Expression: {value}</div>\n        {result !== null && <div className=\"font-bold\">Result: {result}</div>}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Try: \"5+10\", \"(20-5)*2\", \"100/4\"\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--empty-value",
      "name": "Empty Value",
      "exportName": "EmptyValue",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Clear for empty\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <div>Current value: {value === undefined ? \"empty\" : value}</div>\n        <button\n          className=\"text-body-small rounded bg-gray-200 px-2 py-0.5\"\n          onClick={() => setValue(undefined)}\n        >\n          Clear\n        </button>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--keyboard-navigation",
      "name": "Keyboard Navigation",
      "exportName": "KeyboardNavigation",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          onKeyDown={handleKeyDown}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        {lastKey && (\n          <div className=\"text-secondary-foreground text-body-small\">Last key: {lastKey}</div>\n        )}\n        <div className=\"text-secondary-foreground mt-2\">\n          <p>↑/↓: ±5, Shift+↑/↓: ±20, Meta/Alt+↑/↓: ±1</p>\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--focus-state",
      "name": "Focus State",
      "exportName": "FocusState",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <div className={`h-6 w-1 rounded ${isEditing ? \"bg-blue-500\" : \"bg-gray-200\"}`} />\n        <input\n          {...inputProps}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          className={`w-32 rounded border ${isEditing ? \"border-blue-500\" : \"border-gray-300\"} px-2 py-1`}\n          placeholder=\"Focus me\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        <div className=\"text-body-small flex items-center gap-2\">\n          <span>State:</span>\n          <span\n            className={`rounded px-2 py-0.5 ${isEditing ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100\"}`}\n          >\n            {isEditing ? \"Editing\" : \"Idle\"}\n          </span>\n          <span>Last event: {lastEvent}</span>\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--error-handling",
      "name": "Error Handling",
      "exportName": "ErrorHandling",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          ref={inputRef}\n          onChange={handleManualInput}\n          onBlur={handleBlur}\n          className={`w-32 rounded border ${errorState.hasError ? \"border-red-500 bg-red-50\" : \"border-gray-300\"} px-2 py-1`}\n          placeholder=\"Try invalid input\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        {errorState.hasError && (\n          <div className=\"text-body-small text-red-500\">{errorState.message}</div>\n        )}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Try valid (50, 1+2) or invalid (abc, 50px) inputs\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--linked-inputs",
      "name": "Linked Inputs",
      "exportName": "LinkedInputs",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"grid max-w-md grid-cols-3 gap-4\">\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-red-600\">Red</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...redInput.inputProps}\n              className=\"w-full rounded border border-red-200 bg-red-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...redInput.handlerProps}\n              className=\"cursor-ew-resize text-red-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-green-600\">Green</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...greenInput.inputProps}\n              className=\"w-full rounded border border-green-200 bg-green-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...greenInput.handlerProps}\n              className=\"cursor-ew-resize text-green-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-blue-600\">Blue</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...blueInput.inputProps}\n              className=\"w-full rounded border border-blue-200 bg-blue-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...blueInput.handlerProps}\n              className=\"cursor-ew-resize text-blue-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <div\n          style={{\n            backgroundColor: hexColor,\n            width: \"100px\",\n            height: \"50px\",\n            borderRadius: \"6px\",\n          }}\n        />\n        <div className=\"flex flex-col\">\n          <div className=\"text-body-large font-mono\">{hexColor}</div>\n          <div className=\"text-secondary-foreground text-body-small\">\n            rgb({color.r}, {color.g}, {color.b})\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"
    },
    {
      "id": "forms-usenumericinput--controlled-vs-uncontrolled",
      "name": "Controlled Vs Uncontrolled",
      "exportName": "ControlledVsUncontrolled",
      "description": "",
      "source": "import { NumericInputElement } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n\n      <div>\n        <div className=\"flex items-center gap-4\">\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={isControlled}\n              onChange={(e) => setIsControlled(e.target.checked)}\n            />\n            Controlled Mode\n          </label>\n\n          <button\n            onClick={() => isControlled && setControlledValue(Math.floor(Math.random() * 100))}\n            className={`text-body-small rounded px-3 py-1 ${\n              isControlled\n                ? \"bg-blue-500 text-white\"\n                : \"text-secondary-foreground cursor-not-allowed bg-gray-200\"\n            }`}\n          >\n            Random Value\n          </button>\n        </div>\n\n        <div className=\"text-body-small mt-3\">\n          <div>\n            <strong>Mode:</strong> {isControlled ? \"Controlled\" : \"Uncontrolled\"}\n          </div>\n          {isControlled && (\n            <div>\n              <strong>Controlled value:</strong> {controlledValue}\n            </div>\n          )}\n          {lastChangeValue !== null && (\n            <div>\n              <strong>Last onChange value:</strong> {lastChangeValue}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"
    }
  ]
}