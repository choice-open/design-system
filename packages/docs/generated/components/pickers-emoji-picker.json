{
  "slug": "pickers/emoji-picker",
  "title": "EmojiPicker",
  "package": {
    "name": "@choice-ui/emoji-picker",
    "version": "0.0.5",
    "description": "An emoji picker component with search, categories, and recent emojis for user selection",
    "dependencies": {
      "@choice-ui/shared": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/scroll-area": "workspace:*",
      "@choice-ui/search-input": "workspace:*",
      "@choice-ui/segmented": "workspace:*",
      "@tanstack/react-virtual": "^3.13.12",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "EmojiPicker",
    "type EmojiPickerProps",
    "useEmojiData",
    "type EmojiData",
    "emojis"
  ],
  "props": [
    {
      "displayName": "EmojiPickerProps",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "columns",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "height",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((emoji: EmojiData) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "searchPlaceholder",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "showCategories",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "showFrequentlyUsed",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "showSearch",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "EmojiData | null | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"dark\" | \"light\"",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useEmojiData",
      "description": "",
      "props": [
        {
          "name": "columns",
          "type": "number",
          "required": true,
          "description": ""
        },
        {
          "name": "searchQuery",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "showFrequentlyUsed",
          "type": "boolean",
          "required": true,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useEmojiScroll",
      "description": "",
      "props": [
        {
          "name": "categorizedData",
          "type": "VirtualItem[]",
          "required": true,
          "description": ""
        },
        {
          "name": "categoryIndexMap",
          "type": "Map<EmojiCategory, number>",
          "required": true,
          "description": ""
        },
        {
          "name": "columns",
          "type": "number",
          "required": true,
          "description": ""
        },
        {
          "name": "findEmojiPosition",
          "type": "(emoji: EmojiData) => { emojiIndex: number; itemIndex: number; } | null",
          "required": true,
          "description": ""
        },
        {
          "name": "searchQuery",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "value",
          "type": "EmojiData | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "pickers-emojipicker--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "Basic emoji picker implementation.\n\nFeatures:\n- Category browsing and search\n- Automatic frequently used emoji tracking\n- Virtualized scrolling for performance\n- Support for dark/light themes",
      "source": "import { EmojiPicker } from \"@choice-ui/emoji-picker\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [selectedEmoji, setSelectedEmoji] = useState<EmojiData | null>(null)\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"text-center\">\n        {selectedEmoji ? (\n          <div className=\"text-body-large\">\n            Selected emoji: {selectedEmoji.emoji} ({selectedEmoji.name})\n          </div>\n        ) : (\n          <div className=\"text-secondary-foreground\">Please select an emoji</div>\n        )}\n      </div>\n\n      <EmojiPicker\n        value={selectedEmoji}\n        onChange={setSelectedEmoji}\n        height={384}\n        variant=\"dark\"\n      />\n    </div>\n  )\n\n}"
    },
    {
      "id": "pickers-emojipicker--variants",
      "name": "Variants",
      "exportName": "Variants",
      "description": "Visual variants of the emoji picker.\n\nVariants:\n- **default**: Follows the page theme dynamically (light/dark mode)\n- **light**: Fixed light appearance regardless of theme\n- **dark**: Fixed dark appearance regardless of theme",
      "source": "import { EmojiPicker } from \"@choice-ui/emoji-picker\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [variant, setVariant] = useState<\"default\" | \"light\" | \"dark\">(\"dark\")\n  const [selectedEmoji, setSelectedEmoji] = useState<EmojiData | null>(null)\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <Select\n        value={variant}\n        onChange={(value) => setVariant(value as \"default\" | \"light\" | \"dark\")}\n      >\n        <Select.Trigger>\n          <Select.Value>{variant}</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          <Select.Item value=\"default\">Default</Select.Item>\n          <Select.Item value=\"light\">Light</Select.Item>\n          <Select.Item value=\"dark\">Dark</Select.Item>\n        </Select.Content>\n      </Select>\n\n      <EmojiPicker\n        value={selectedEmoji}\n        onChange={setSelectedEmoji}\n        height={384}\n        variant={variant}\n      />\n    </div>\n  )\n\n}"
    },
    {
      "id": "pickers-emojipicker--without-frequently-used",
      "name": "Without Frequently Used",
      "exportName": "WithoutFrequentlyUsed",
      "description": "Emoji picker with `showFrequentlyUsed={false}`.\n\n### When to Use\n- Privacy-sensitive applications\n- Single-use emoji selection (no need to track habits)\n- Simplified UI without history tracking\n\n### Behavior\n- No \"Frequently used\" category displayed\n- Category navigation excludes frequently used icon\n- Emoji selections are not saved to local storage",
      "source": "import { EmojiPicker } from \"@choice-ui/emoji-picker\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [selectedEmoji, setSelectedEmoji] = useState<EmojiData | null>(null)\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"text-center\">\n        {selectedEmoji ? (\n          <div className=\"text-body-large\">\n            Selected emoji: {selectedEmoji.emoji} ({selectedEmoji.name})\n          </div>\n        ) : (\n          <div className=\"text-secondary-foreground\">Please select an emoji</div>\n        )}\n      </div>\n\n      <EmojiPicker\n        value={selectedEmoji}\n        onChange={setSelectedEmoji}\n        height={384}\n        variant=\"dark\"\n        showFrequentlyUsed={false}\n      />\n    </div>\n  )\n\n}"
    },
    {
      "id": "pickers-emojipicker--multiple-controlled",
      "name": "Multiple Controlled",
      "exportName": "MultipleControlled",
      "description": "Multiple independent emoji pickers on the same page.\n\n### Key Points\n- Each picker has its own state (`emoji1`, `emoji2`)\n- Each picker has its own open state (`open1`, `open2`)\n- Combined with `Popover` for dropdown behavior\n- Auto-close popover after selection\n\n### Popover Integration\n- Use `Popover.Header` with custom styling to match picker variant\n- Set `className=\"overflow-hidden\"` on Popover for clean edges\n- Set `className=\"p-0\"` on `Popover.Content` to remove padding",
      "source": "import { EmojiPicker } from \"@choice-ui/emoji-picker\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open1, setOpen1] = useState(false)\n  const [open2, setOpen2] = useState(false)\n  const [emoji1, setEmoji1] = useState<EmojiData | null>(null)\n  const [emoji2, setEmoji2] = useState<EmojiData | null>(null)\n\n  return (\n    <div className=\"flex flex-col items-center gap-6\">\n      <div className=\"text-center\">\n        <p className=\"text-secondary-foreground\">\n          Picker 1: {emoji1?.emoji || \"Not selected\"} | Picker 2:{\" \"}\n          {emoji2?.emoji || \"Not selected\"}\n        </p>\n      </div>\n\n      <div className=\"flex gap-4\">\n        <Popover\n          draggable\n          open={open1}\n          onOpenChange={setOpen1}\n          placement=\"bottom-start\"\n          className=\"overflow-hidden\"\n        >\n          <Popover.Trigger>\n            <Button active={open1}>{emoji1?.emoji || \"ðŸ˜€\"} Picker 1</Button>\n          </Popover.Trigger>\n\n          <Popover.Header title=\"Emoji Picker 1\" />\n\n          <Popover.Content className=\"p-0\">\n            <EmojiPicker\n              value={emoji1}\n              onChange={(emoji) => {\n                setEmoji1(emoji)\n                setOpen1(false)\n              }}\n              height={350}\n              variant=\"light\"\n            />\n          </Popover.Content>\n        </Popover>\n\n        <Popover\n          draggable\n          open={open2}\n          onOpenChange={setOpen2}\n          placement=\"bottom-end\"\n          className=\"overflow-hidden\"\n        >\n          <Popover.Trigger>\n            <Button active={open2}>{emoji2?.emoji || \"ðŸŽ‰\"} Picker 2</Button>\n          </Popover.Trigger>\n\n          <Popover.Header\n            title=\"Emoji Picker 2\"\n            className=\"bg-menu-background border-menu-boundary text-white\"\n            closeButtonProps={{\n              variant: \"dark\",\n            }}\n          />\n\n          <Popover.Content className=\"p-0\">\n            <EmojiPicker\n              value={emoji2}\n              onChange={(emoji) => {\n                setEmoji2(emoji)\n                setOpen2(false)\n              }}\n              height={350}\n              variant=\"dark\"\n            />\n          </Popover.Content>\n        </Popover>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "pickers-emojipicker--external-value-control",
      "name": "External Value Control",
      "exportName": "ExternalValueControl",
      "description": "Control emoji picker value from external components.\n\n### Features Demonstrated\n- Set default value on mount using `emojis.find()`\n- Quick select buttons to change value externally\n- Custom \"recently used\" list managed in parent state\n- Clear selection and history\n\n### Using `emojis` Array\n```tsx\nimport { emojis } from \"@choice-ui/react\"\n\n// Find emoji by character\nconst emoji = emojis.find((e) => e.emoji === \"ðŸ˜€\")\n\n// Set as initial value\nconst [selected, setSelected] = useState(emoji || null)\n```",
      "source": "import { EmojiPicker, emojis } from \"@choice-ui/emoji-picker\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [selectedEmoji, setSelectedEmoji] = useState<EmojiData | null>(\n    emojis.find((e) => e.emoji === \"ðŸ˜€\") || null,\n  )\n  const [recentEmojis, setRecentEmojis] = useState<EmojiData[]>([])\n\n  const handleEmojiSelect = (emoji: EmojiData) => {\n    setSelectedEmoji(emoji)\n    setRecentEmojis((prev) => {\n      const filtered = prev.filter((e) => e.id !== emoji.id)\n      return [emoji, ...filtered].slice(0, 5)\n    })\n    setOpen(false)\n  }\n\n  const findEmojiByChar = (emojiChar: string): EmojiData | null => {\n    return emojis.find((e) => e.emoji === emojiChar) || null\n  }\n\n  return (\n    <div className=\"flex flex-col items-center gap-4\">\n      <div className=\"text-center\">\n        {selectedEmoji ? (\n          <div className=\"text-body-large\">\n            Current: {selectedEmoji.emoji} {selectedEmoji.name}\n          </div>\n        ) : (\n          <div className=\"text-secondary-foreground\">No emoji selected</div>\n        )}\n      </div>\n\n      {/* Recently used */}\n      {recentEmojis.length > 0 && (\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-secondary-foreground\">Recent:</span>\n          {recentEmojis.map((emoji) => (\n            <Button\n              key={emoji.id}\n              variant=\"secondary\"\n              onClick={() => setSelectedEmoji(emoji)}\n              title={emoji.name}\n            >\n              {emoji.emoji}\n            </Button>\n          ))}\n          <Button\n            variant=\"secondary\"\n            onClick={() => {\n              setSelectedEmoji(null)\n              setRecentEmojis([])\n            }}\n          >\n            Clear\n          </Button>\n        </div>\n      )}\n\n      {/* Quick select */}\n      <div className=\"flex items-center gap-2\">\n        <span className=\"text-secondary-foreground\">Quick:</span>\n        {[\"ðŸ˜€\", \"ðŸŽ‰\", \"â¤ï¸ï¸\", \"ðŸ‘\", \"ðŸ”¥\"]\n          .map((emojiChar) => {\n            const emojiData = findEmojiByChar(emojiChar)\n            if (!emojiData) return null\n            return (\n              <Button\n                key={emojiData.id}\n                variant=\"secondary\"\n                onClick={() => setSelectedEmoji(emojiData)}\n                title={emojiData.name}\n              >\n                {emojiData.emoji}\n              </Button>\n            )\n          })\n          .filter(Boolean)}\n      </div>\n\n      <Popover\n        draggable\n        open={open}\n        onOpenChange={setOpen}\n        placement=\"bottom-start\"\n        className=\"overflow-hidden\"\n      >\n        <Popover.Trigger>\n          <Button active={open}>{selectedEmoji?.emoji || \"ðŸŽ¨\"} Open Picker</Button>\n        </Popover.Trigger>\n        <Popover.Header title=\"Emoji Picker\" />\n        <Popover.Content className=\"p-0\">\n          <EmojiPicker\n            value={selectedEmoji}\n            onChange={handleEmojiSelect}\n            height={400}\n            variant=\"light\"\n          />\n        </Popover.Content>\n      </Popover>\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "beta"
  ]
}