{
  "slug": "overlays/alert-dialog",
  "title": "Alert Dialog",
  "package": {
    "name": "@choice-ui/alert-dialog",
    "version": "0.0.4",
    "description": "Alert Dialog component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/button": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/modal": "workspace:*",
      "@floating-ui/react": "0.27.15",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "type AlertDialogProps",
    "AlertDialog",
    "AlertDialogContext",
    "AlertDialogProvider",
    "useAlertDialogContext",
    "useAlertDialog",
    "useAlertDialogProvider",
    "type UseAlertDialogReturn"
  ],
  "props": [
    {
      "displayName": "AlertDialogProps",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "outsidePress",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "overlay",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "portalId",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "root",
          "type": "HTMLElement | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "AlertDialogProvider",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "outsidePress",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "overlay",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "portalId",
          "type": "string | undefined",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "overlays-alert-dialog--basic-usage",
      "name": "Basic Usage",
      "exportName": "BasicUsage",
      "description": "`AlertDialog` is a global dialog system for displaying alerts, confirmations, and custom dialogs.\n\nFeatures:\n- Global access via hooks - no need to manage dialog state\n- Promise-based API with async/await support\n- Queue system for multiple dialogs\n- Built-in confirm, alert, and custom dialog types\n- Keyboard navigation (ESC to close, Enter to confirm)\n- Customizable styling and buttons\n\nAPI methods:\n- `confirm(config)` - Confirmation dialog, returns `Promise<boolean>`\n- `alert(config)` - Alert dialog, returns `Promise<void>`\n- `show(config)` - Custom dialog, returns `Promise<string>` (button value)\n\nAlertDialogProvider is a global provider for AlertDialog. It should be wrapped around your app.\n```tsx\nimport { AlertDialogProvider } from \"@choice-ui/alert-dialog\"\n\nfunction App() {\n  return (\n    <AlertDialogProvider>\n      <YourApp />\n    </AlertDialogProvider>\n  )\n}\n```\n\nuseAlertDialog is a hook that provides the AlertDialog context. It should be used within the AlertDialogProvider.\n```tsx\nimport { useAlertDialog } from \"@choice-ui/alert-dialog\"\n\nfunction YourComponent() {\n  const { confirm, alert, show } = useAlertDialog()\n\n  const handleConfirm = async () => {\n    const confirmed = await confirm({\n      title: \"Confirm Delete\",\n      description: \"This action cannot be undone. Are you sure you want to delete this item?\",\n    })\n  }\n}\n```\nBasic Usage: Demonstrates `confirm` and `alert` dialog types.\n- `confirm` returns boolean for user confirmation actions\n- `alert` returns void for informational messages",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { confirm, alert } = useAlertDialog()\n    const [confirmResult, setConfirmResult] = useState<boolean | null>(null)\n    const [alertShown, setAlertShown] = useState(false)\n\n    const handleConfirm = async () => {\n      const confirmed = await confirm({\n        title: \"Confirm Delete\",\n        description: \"This action cannot be undone. Are you sure you want to delete this item?\",\n        confirmText: \"Delete\",\n        cancelText: \"Cancel\",\n        confirmVariant: \"destructive\",\n      })\n      setConfirmResult(confirmed)\n    }\n\n    const handleAlert = async () => {\n      await alert({\n        title: \"Success\",\n        description: \"Your changes have been saved successfully.\",\n        confirmText: \"Got it\",\n      })\n      setAlertShown(true)\n    }\n\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"flex gap-4\">\n          <Button\n            variant=\"destructive\"\n            onClick={handleConfirm}\n          >\n            Confirm Dialog\n          </Button>\n          <Button onClick={handleAlert}>Alert Dialog</Button>\n        </div>\n        <div className=\"text-secondary-foreground text-body-small\">\n          {confirmResult !== null && <p>Result: {confirmResult ? \"Confirmed\" : \"Cancelled\"}</p>}\n          {alertShown && <p>Alert acknowledged</p>}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--size",
      "name": "Size",
      "exportName": "Size",
      "description": "Size: Demonstrates three dialog sizes - small, default, large",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { confirm } = useAlertDialog()\n\n    const description = \"This action cannot be undone. Are you sure you want to continue?\"\n\n    const handleSize = async (size: \"small\" | \"default\" | \"large\") => {\n      await confirm({\n        title: `${size.charAt(0).toUpperCase() + size.slice(1)} Size`,\n        description,\n        size,\n      })\n    }\n\n    return (\n      <div className=\"flex gap-4\">\n        <Button\n          variant=\"secondary\"\n          onClick={() => handleSize(\"small\")}\n        >\n          Small\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => handleSize(\"default\")}\n        >\n          Default\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => handleSize(\"large\")}\n        >\n          Large\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--variants",
      "name": "Variants",
      "exportName": "Variants",
      "description": "Variants: Demonstrates four visual variants - default, danger, success, warning",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { confirm, alert } = useAlertDialog()\n\n    const showDefault = () =>\n      confirm({\n        title: \"Default Style\",\n        description: \"This is a default confirmation dialog.\",\n        variant: \"default\",\n      })\n\n    const showDanger = () =>\n      confirm({\n        title: \"Dangerous Action\",\n        description: \"This action cannot be undone. Please proceed with caution.\",\n        variant: \"danger\",\n        confirmVariant: \"destructive\",\n      })\n\n    const showSuccess = () =>\n      alert({\n        title: \"Success\",\n        description: \"Your operation has been completed successfully!\",\n        variant: \"success\",\n        confirmText: \"OK\",\n      })\n\n    const showWarning = () =>\n      confirm({\n        title: \"Warning\",\n        description: \"This action may have unexpected consequences. Continue?\",\n        variant: \"warning\",\n        confirmText: \"Continue\",\n      })\n\n    return (\n      <div className=\"grid grid-cols-2 gap-4\">\n        <Button\n          variant=\"secondary\"\n          onClick={showDefault}\n        >\n          Default\n        </Button>\n        <Button\n          variant=\"destructive\"\n          onClick={showDanger}\n        >\n          Danger\n        </Button>\n        <Button\n          variant=\"success\"\n          onClick={showSuccess}\n        >\n          Success\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={showWarning}\n        >\n          Warning\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--custom-dialog",
      "name": "Custom Dialog",
      "exportName": "CustomDialog",
      "description": "Custom Dialog: Uses `show` method to create dialogs with multiple custom buttons.\nReturns the clicked button's `value`.",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { show } = useAlertDialog()\n    const [result, setResult] = useState<string | null>(null)\n\n    const handleClick = async () => {\n      const choice = await show({\n        title: \"Save Document\",\n        description: \"You have unsaved changes. What would you like to do?\",\n        buttons: [\n          { text: \"Don't Save\", value: \"discard\", variant: \"ghost\" },\n          { text: \"Cancel\", value: \"cancel\", variant: \"secondary\" },\n          { text: \"Save\", value: \"save\", variant: \"primary\", autoFocus: true },\n        ],\n      })\n      setResult(choice)\n    }\n\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <Button onClick={handleClick}>Close Document</Button>\n        {result && (\n          <p className=\"text-secondary-foreground text-body-small\">User choice: {result}</p>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--with-content",
      "name": "With Content",
      "exportName": "WithContent",
      "description": "With Content: Uses `content` prop to render complex React content.",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { show } = useAlertDialog()\n    const [result, setResult] = useState<string | null>(null)\n\n    const handleClick = async () => {\n      const choice = await show({\n        title: \"Upgrade Plan\",\n        content: (\n          <div className=\"space-y-3\">\n            <p>You&apos;ve reached the limit of your current plan.</p>\n            <div className=\"bg-secondary-background rounded p-3\">\n              <h4 className=\"font-strong\">Pro Plan Benefits:</h4>\n              <ul className=\"text-body-small mt-1 space-y-1\">\n                <li>• Unlimited projects</li>\n                <li>• Advanced analytics</li>\n                <li>• Priority support</li>\n              </ul>\n            </div>\n            <p className=\"text-secondary-foreground text-body-small\">\n              Only $9.99/month, cancel anytime.\n            </p>\n          </div>\n        ),\n        buttons: [\n          { text: \"Maybe Later\", value: \"later\", variant: \"ghost\" },\n          { text: \"Upgrade Now\", value: \"upgrade\", variant: \"primary\", autoFocus: true },\n        ],\n      })\n      setResult(choice)\n    }\n\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <Button onClick={handleClick}>Check Limits</Button>\n        {result && (\n          <p className=\"text-secondary-foreground text-body-small\">User choice: {result}</p>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--queue-system",
      "name": "Queue System",
      "exportName": "QueueSystem",
      "description": "Queue System: Multiple dialogs are automatically queued and displayed in sequence.",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { confirm, alert } = useAlertDialog()\n    const [results, setResults] = useState<string[]>([])\n\n    const handleMultiple = async () => {\n      setResults([])\n\n      const promises = [\n        confirm(\"Delete first item?\"),\n        alert(\"Processing...\"),\n        confirm(\"Delete second item?\"),\n        alert(\"All done!\"),\n      ]\n\n      const allResults = await Promise.all(promises)\n      setResults(allResults.map((r, i) => `Dialog ${i + 1}: ${r}`))\n    }\n\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <Button onClick={handleMultiple}>Show Multiple Dialogs</Button>\n        {results.length > 0 && (\n          <div className=\"text-secondary-foreground text-body-small\">\n            <p>Results:</p>\n            <ul className=\"list-inside list-disc\">\n              {results.map((result, i) => (\n                <li key={i}>{result}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--provider-options",
      "name": "Provider Options",
      "exportName": "ProviderOptions",
      "description": "Provider Options: Demonstrates provider-level configurations.\n- `overlay`: Shows dark background overlay (default: false)\n- `outsidePress`: Allows clicking outside to close (default: true, this demo shows disabled)",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\n\nexport default function App() {\n\n  const ExampleWithOverlay = () => {\n    const { confirm } = useAlertDialog()\n\n    return (\n      <Button\n        variant=\"secondary\"\n        onClick={() =>\n          confirm({\n            title: \"With Overlay\",\n            description: \"This dialog has a dark background overlay.\",\n          })\n        }\n      >\n        Overlay\n      </Button>\n    )\n  }\n\n  const ExampleOutsidePressDisabled = () => {\n    const { confirm } = useAlertDialog()\n\n    return (\n      <Button\n        variant=\"secondary\"\n        onClick={() =>\n          confirm({\n            title: \"Outside Press Disabled\",\n            description: \"Clicking outside will NOT close this dialog.\",\n          })\n        }\n      >\n        OutsidePress Disabled\n      </Button>\n    )\n  }\n\n  return (\n    <div className=\"flex gap-4\">\n      <AlertDialogProvider overlay>\n        <ExampleWithOverlay />\n      </AlertDialogProvider>\n\n      <AlertDialogProvider outsidePress={false}>\n        <ExampleOutsidePressDisabled />\n      </AlertDialogProvider>\n    </div>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--escape-key-disabled",
      "name": "Escape Key Disabled",
      "exportName": "EscapeKeyDisabled",
      "description": "Escape Key Disabled: Demonstrates disabling ESC key to close dialog.\nSet `closeOnEscape: false` in dialog config to prevent ESC key from closing the dialog.",
      "source": "import { AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { confirm } = useAlertDialog()\n\n    return (\n      <Button\n        variant=\"secondary\"\n        onClick={() =>\n          confirm({\n            title: \"ESC Key Disabled\",\n            description: \"Pressing ESC will NOT close this dialog. Use the buttons instead.\",\n            closeOnEscape: false,\n          })\n        }\n      >\n        ESC Disabled\n      </Button>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    },
    {
      "id": "overlays-alert-dialog--z-index-layering",
      "name": "Z Index Layering",
      "exportName": "ZIndexLayering",
      "description": "Z-Index Layering: AlertDialog correctly appears above Dialog components.",
      "source": "import { AlertDialog, AlertDialogProvider, useAlertDialog } from \"@choice-ui/alert-dialog\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const Example = () => {\n    const { alert, confirm } = useAlertDialog()\n    const [dialogOpen, setDialogOpen] = useState(false)\n\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <Button onClick={() => setDialogOpen(true)}>Open Dialog</Button>\n\n        {dialogOpen && (\n          <Dialog\n            draggable\n            open={dialogOpen}\n            onOpenChange={setDialogOpen}\n          >\n            <Dialog.Header title=\"Regular Dialog\" />\n            <Dialog.Content className=\"flex gap-2 p-4\">\n              <Button\n                variant=\"primary\"\n                onClick={() =>\n                  alert({\n                    title: \"Alert\",\n                    description: \"This AlertDialog should appear above the Dialog.\",\n                  })\n                }\n              >\n                Show Alert\n              </Button>\n              <Button\n                variant=\"secondary\"\n                onClick={() =>\n                  confirm({\n                    title: \"Confirm\",\n                    description: \"This AlertDialog should appear above the Dialog.\",\n                  })\n                }\n              >\n                Show Confirm\n              </Button>\n            </Dialog.Content>\n            <Dialog.Footer>\n              <Button\n                variant=\"secondary\"\n                onClick={() => setDialogOpen(false)}\n              >\n                Close Dialog\n              </Button>\n            </Dialog.Footer>\n          </Dialog>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <AlertDialogProvider>\n      <Example />\n    </AlertDialogProvider>\n  )\n\n}"
    }
  ],
  "tags": [
    "new"
  ]
}