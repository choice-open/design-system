{
  "slug": "collections/command",
  "title": "Command",
  "package": {
    "name": "@choice-ui/command",
    "version": "0.0.3",
    "description": "Command component for Choiceform Design System",
    "dependencies": {
      "usehooks-ts": "^3.1.0",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/text-field": "workspace:*",
      "@choice-ui/kbd": "workspace:*",
      "@choice-ui/scroll-area": "workspace:*",
      "@choice-ui/tabs": "workspace:*"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "CommandRoot",
    "defaultFilter",
    "Command",
    "useCommandState",
    "useCommand",
    "useValue",
    "commandScore",
    "type CommandProps",
    "type CommandGroupProps",
    "type CommandItemProps",
    "type CommandListProps",
    "type CommandLoadingProps",
    "type CommandDividerProps",
    "type CommandInputProps"
  ],
  "props": [
    {
      "displayName": "CommandProps",
      "description": "",
      "props": [
        {
          "name": "defaultValue",
          "type": "string | undefined",
          "required": false,
          "description": "Optional default item value when it is initially rendered."
        },
        {
          "name": "disablePointerSelection",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `true` to disable selection via pointer events."
        },
        {
          "name": "filter",
          "type": "CommandFilter | undefined",
          "required": false,
          "description": "Custom filter function for whether each command menu item should matches the given search query.\nIt should return a number between 0 and 1, with 1 being the best match and 0 being hidden entirely.\nBy default, uses the `command-score` library."
        },
        {
          "name": "label",
          "type": "string | undefined",
          "required": false,
          "description": "Accessible label for this command menu. Not shown visibly."
        },
        {
          "name": "loop",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `true` to turn on looping around when using the arrow keys."
        },
        {
          "name": "onChange",
          "type": "((value: string) => void) | undefined",
          "required": false,
          "description": "Event handler called when the selected item of the menu changes."
        },
        {
          "name": "shouldFilter",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `false` to turn off the automatic filtering and sorting.\nIf `false`, you must conditionally render valid items based on the search query yourself."
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "defaultValue": "\"default\"",
          "description": "The size of the command menu."
        },
        {
          "name": "value",
          "type": "string | undefined",
          "required": false,
          "description": "Optional controlled state of the selected command menu item."
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"dark\"",
          "required": false,
          "defaultValue": "\"default\"",
          "description": "The variant of the command menu."
        },
        {
          "name": "vimBindings",
          "type": "boolean | undefined",
          "required": false,
          "description": "Set to `false` to disable ctrl+n/j/p/k shortcuts. Defaults to `true`."
        }
      ]
    },
    {
      "displayName": "useAsRef",
      "description": "",
      "props": []
    },
    {
      "displayName": "useCommandState",
      "description": "Run a selector against the store state.",
      "props": []
    },
    {
      "displayName": "useScheduleLayoutEffect",
      "description": "åœ¨ä¸‹ä¸€ä¸ª layout effect å‘¨æœŸå†…ä»¥å‘½ä»¤å¼æ–¹å¼è¿è¡Œå‡½æ•°ã€‚",
      "props": []
    },
    {
      "displayName": "renderChildren",
      "description": "",
      "props": []
    },
    {
      "displayName": "CommandGroupProps",
      "description": "",
      "props": [
        {
          "name": "forceMount",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": "Whether to force mount the group."
        },
        {
          "name": "heading",
          "type": "ReactNode",
          "required": false,
          "description": "The heading of the group."
        },
        {
          "name": "value",
          "type": "string | undefined",
          "required": false,
          "description": "The value of the group."
        },
        {
          "name": "hidden",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": "Whether the group is hidden."
        }
      ]
    },
    {
      "displayName": "CommandItemProps",
      "description": "",
      "props": [
        {
          "name": "onSelect",
          "type": "((value: string) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "forceMount",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "keywords",
          "type": "string[] | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "prefixElement",
          "type": "ReactNode",
          "required": false,
          "description": ""
        },
        {
          "name": "shortcut",
          "type": "{ keys?: ReactNode; modifier?: KbdKey | KbdKey[] | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "suffixElement",
          "type": "ReactNode",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "CommandListProps",
      "description": "",
      "props": [
        {
          "name": "children",
          "type": "ReactNode",
          "required": true,
          "description": "æ ‡å‡†childrenæˆ–render propå‡½æ•°"
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "label",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "aria-label",
          "type": "string | undefined",
          "required": false,
          "description": "å¯è®¿é—®åç§°"
        },
        {
          "name": "aria-labelledby",
          "type": "string | undefined",
          "required": false,
          "description": "å¼•ç”¨æä¾›æ ‡ç­¾çš„å…ƒç´ ID"
        },
        {
          "name": "hoverBoundary",
          "type": "undefined | \"none\" | \"hover\"",
          "required": false,
          "description": ""
        },
        {
          "name": "orientation",
          "type": "undefined | \"vertical\" | \"horizontal\" | \"both\"",
          "required": false,
          "description": ""
        },
        {
          "name": "scrollbarMode",
          "type": "undefined | \"default\" | \"large-y\" | \"large-t\" | \"large-b\" | \"large-x\" | \"large-l\" | \"large-r\"",
          "required": false,
          "description": ""
        },
        {
          "name": "type",
          "type": "undefined | \"hover\" | \"auto\" | \"always\" | \"scroll\"",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\"",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "CommandLoadingProps",
      "description": "",
      "props": [
        {
          "name": "label",
          "type": "string | undefined",
          "required": false,
          "defaultValue": "\"Loading...\"",
          "description": "The label of the loading."
        },
        {
          "name": "progress",
          "type": "number | undefined",
          "required": false,
          "defaultValue": "undefined",
          "description": "The progress of the loading."
        }
      ]
    },
    {
      "displayName": "CommandDividerProps",
      "description": "",
      "props": [
        {
          "name": "alwaysRender",
          "type": "boolean | undefined",
          "required": false,
          "defaultValue": "false",
          "description": "Whether to always render this divider. Useful when automatic filtering is disabled."
        }
      ]
    },
    {
      "displayName": "CommandInputProps",
      "description": "",
      "props": [
        {
          "name": "value",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((search: string) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "selected",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focusSelection",
          "type": "undefined | \"none\" | \"all\" | \"end\"",
          "required": false,
          "description": ""
        },
        {
          "name": "onIsEditingChange",
          "type": "((isEditing: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\" | \"reset\"",
          "required": false,
          "description": ""
        },
        {
          "name": "prefixElement",
          "type": "ReactNode",
          "required": false,
          "description": ""
        },
        {
          "name": "suffixElement",
          "type": "ReactNode",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "collections-command--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "**Basic Command Menu**\n\nA simple command menu with search functionality and basic items.\nDemonstrates the core structure with input, list, and items.\n\n```tsx\n<Command>\n  <Command.Input placeholder=\"Type a command...\" />\n  <Command.List>\n    <Command.Item>Action 1</Command.Item>\n    <Command.Item>Action 2</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Type a command or search...\" />\n      <Command.List>\n        <Command.Item>Calendar</Command.Item>\n        <Command.Item>Search Emoji</Command.Item>\n        <Command.Item>Calculator</Command.Item>\n        <Command.Item>Settings</Command.Item>\n        <Command.Item>Profile</Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-prefix-and-suffix",
      "name": "With Prefix And Suffix",
      "exportName": "WithPrefixAndSuffix",
      "description": "**With Prefix and Suffix**\n\nShows how to use prefix and suffix elements in a command item.",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Item\n          prefixElement={<ColorAlpha />}\n          suffixElement={<Badge className=\"mr-1\">New</Badge>}\n        >\n          <Command.Value>Photoshop</Command.Value>\n        </Command.Item>\n        <Command.Item prefixElement={<ColorOpacity />}>\n          <Command.Value>Illustrator</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeGradient />}\n          suffixElement={<Badge className=\"mr-1\">New</Badge>}\n        >\n          <Command.Value>Lightroom</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeSolid />}\n          suffixElement={<Badge className=\"mr-1\">New</Badge>}\n        >\n          <Command.Value>InDesign</Command.Value>\n        </Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-shortcut",
      "name": "With Shortcut",
      "exportName": "WithShortcut",
      "description": "**With Shortcut**\n\nShows how to use a shortcut in a command item.\n\n```tsx\n<Command.Item shortcut={{ keys: \"F\", modifier: \"command\" }}>\n  <Command.Value>Photoshop</Command.Value>\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Item\n          prefixElement={<ColorAlpha />}\n          shortcut={{ keys: \"P\", modifier: \"command\" }}\n        >\n          <Command.Value>Photoshop</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorOpacity />}\n          shortcut={{ keys: \"I\", modifier: \"command\" }}\n        >\n          <Command.Value>Illustrator</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeGradient />}\n          shortcut={{ keys: \"L\", modifier: \"command\" }}\n        >\n          <Command.Value>Lightroom</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeSolid />}\n          shortcut={{ keys: \"D\", modifier: \"command\" }}\n        >\n          <Command.Value>InDesign</Command.Value>\n        </Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-groups",
      "name": "With Groups",
      "exportName": "WithGroups",
      "description": "**Grouped Commands**\n\nOrganizes commands into logical groups with headings and separators.\nPerfect for categorizing different types of actions or content.",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Group heading=\"Suggestions\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-red-300 text-red-700\">\n                <SearchSmall />\n              </div>\n            }\n          >\n            <Command.Value>Search</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-blue-300 text-blue-700\">\n                <File />\n              </div>\n            }\n          >\n            <Command.Value>New File</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Settings\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-green-300 text-green-700\">\n                <UserSmall />\n              </div>\n            }\n          >\n            <Command.Value>Profile</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-yellow-300 text-yellow-700\">\n                <Settings />\n              </div>\n            }\n          >\n            <Command.Value>Settings</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Files\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-purple-300 text-purple-700\">\n                <Folder />\n              </div>\n            }\n          >\n            <Command.Value>Documents</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-pink-300 text-pink-700\">\n                <Folder />\n              </div>\n            }\n          >\n            <Command.Value>Downloads</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--large",
      "name": "Large",
      "exportName": "Large",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command\n      loop\n      size=\"large\"\n      className=\"w-xl overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input\n        variant=\"reset\"\n        className=\"mx-0 mb-0 rounded-none before:border-none\"\n        placeholder=\"Search commands...\"\n      />\n      <Command.Divider alwaysRender />\n      <Command.List className=\"h-64\">\n        <Command.Empty>\n          <div className=\"py-6 text-center\">\n            <p>No results found.</p>\n            <p className=\"text-secondary-foreground mt-1\">Try adjusting your search terms.</p>\n          </div>\n        </Command.Empty>\n        <Command.Group heading=\"Suggestions\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-red-300 text-red-700\">\n                <SearchSmall />\n              </div>\n            }\n            shortcut={{ keys: \"F\", modifier: \"command\" }}\n          >\n            <Command.Value>Search</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-blue-300 text-blue-700\">\n                <File />\n              </div>\n            }\n            shortcut={{ keys: \"N\", modifier: \"command\" }}\n          >\n            <Command.Value>New File</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Settings\">\n          <Command.Item>\n            <Command.Value>Profile</Command.Value>\n          </Command.Item>\n          <Command.Item>\n            <Command.Value>Settings</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--with-empty-state",
      "name": "With Empty State",
      "exportName": "WithEmptyState",
      "description": "**With Empty State**\n\nShows an empty state when no results match the search query.\nEssential for providing user feedback during search operations.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    <Command.Empty>No results found.</Command.Empty>\n    <Command.Item>...</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Try searching for 'xyz'...\" />\n      <Command.List className=\"h-48\">\n        <Command.Empty>\n          <SearchSmall className=\"mx-auto mb-2 h-8 w-8\" />\n          <p>No results found.</p>\n          <p className=\"mt-1\">Try adjusting your search terms.</p>\n        </Command.Empty>\n        <Command.Group heading=\"Quick Actions\">\n          <Command.Item>Create New File</Command.Item>\n          <Command.Item>Open Settings</Command.Item>\n          <Command.Item>View Profile</Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--dialog-mode",
      "name": "Dialog Mode",
      "exportName": "DialogMode",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect, useRef } from \"react\"\n\nexport default function App() {\n\n  const commandRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [open, setOpen] = useState(false)\n  const [selected, setSelected] = useState(\"\")\n  const [entered, setEntered] = useState(\"\")\n\n  useEffect(() => {\n    if (open) {\n      setTimeout(() => {\n        inputRef.current?.focus()\n      }, 200)\n    }\n  }, [open])\n\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"j\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n        setOpen((open) => !open)\n      }\n    }\n\n    document.addEventListener(\"keydown\", down)\n    return () => document.removeEventListener(\"keydown\", down)\n  }, [])\n\n  useEffect(() => {\n    if (entered) {\n      setOpen(false)\n    }\n  }, [entered])\n\n  return (\n    <div>\n      <Button\n        onClick={() => setOpen(true)}\n        variant=\"secondary\"\n      >\n        {commandOptions\n          .find((group) => group.items.some((item) => item.value === entered))\n          ?.items.find((item) => item.value === entered)?.label || \"Open Command Palette\"}\n        <Kbd keys=\"command\">J</Kbd>\n      </Button>\n\n      <Dialog\n        open={open}\n        onOpenChange={setOpen}\n        outsidePress={true}\n        className=\"overflow-hidden\"\n        transitionStylesProps={{\n          duration: 200,\n        }}\n      >\n        <Dialog.Content className=\"w-xl overflow-hidden\">\n          <Command\n            loop\n            size=\"large\"\n            ref={commandRef}\n            value={selected}\n            onChange={setSelected}\n          >\n            <Command.Input\n              ref={inputRef}\n              variant=\"reset\"\n              className=\"mx-0 mb-0 rounded-none before:border-none\"\n              placeholder=\"Search commands...\"\n            />\n            <Command.Divider alwaysRender />\n            <Command.List className=\"h-64\">\n              <Command.Empty>\n                <p>No results found.</p>\n                <p className=\"mt-1\">Try adjusting your search terms.</p>\n              </Command.Empty>\n              {commandOptions.map((group, index) => (\n                <Command.Group\n                  key={`${group.label}-${index}`}\n                  heading={group.label}\n                >\n                  {group.items.map((item, index) => (\n                    <Command.Item\n                      key={`${item.value}-${index}`}\n                      value={item.value}\n                      onSelect={() => {\n                        setSelected(item.value)\n                        setEntered(item.value)\n                      }}\n                      prefixElement={\n                        <Avatar\n                          photo={item.icon}\n                          name={item.label}\n                        />\n                      }\n                    >\n                      <Command.Value>{item.label}</Command.Value>\n                    </Command.Item>\n                  ))}\n                </Command.Group>\n              ))}\n            </Command.List>\n          </Command>\n        </Dialog.Content>\n      </Dialog>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--dark-mode",
      "name": "Dark Mode",
      "exportName": "DarkMode",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      variant=\"dark\"\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n\n      <Command.List>\n        <Command.Empty>\n          <p>No results found.</p>\n          <p className=\"mt-1\">Try adjusting your search terms.</p>\n        </Command.Empty>\n\n        <Command.Group heading=\"Files\">\n          <Command.Item\n            prefixElement={<ColorAlpha />}\n            suffixElement={<Badge className=\"mr-1 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>Photoshop</Command.Value>\n          </Command.Item>\n          <Command.Item prefixElement={<ColorOpacity />}>\n            <Command.Value>Illustrator</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={<ColorTypeGradient />}\n            suffixElement={<Badge className=\"mr-1 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>Lightroom</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={<ColorTypeSolid />}\n            suffixElement={<Badge className=\"mr-1 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>InDesign</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--disabled-command",
      "name": "Disabled Command",
      "exportName": "DisabledCommand",
      "description": "**Disabled Command**\n\nShows a disabled command with a disabled item.\nUseful for providing user feedback during search operations.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    <Command.Item disabled>...</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List className=\"h-48\">\n        <Command.Group heading=\"Quick Actions\">\n          <Command.Item>Create New File</Command.Item>\n          <Command.Item>Open Settings</Command.Item>\n          <Command.Item disabled>View Profile (Disabled)</Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--controlled-state",
      "name": "Controlled State",
      "exportName": "ControlledState",
      "description": "**Controlled State**\n\nDemonstrates controlled command state with external value management.\nUseful for programmatic control and integration with other components.\n\n```tsx\nconst [value, setValue] = useState(\"\")\n\n<Command value={value} onChange={setValue}>\n  <Command.Input />\n  <Command.List>\n    <Command.Item value=\"item1\">Item 1</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(\"profile\")\n  const [search, setSearch] = useState(\"\")\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-col gap-1\">\n        <p>\n          <strong>Selected:</strong> {value || \"None\"}\n        </p>\n        <p>\n          <strong>Search:</strong> {search || \"None\"}\n        </p>\n      </div>\n\n      <Command\n        value={value}\n        onChange={setValue}\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n      >\n        <Command.Input\n          placeholder=\"Search commands...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No results found.</Command.Empty>\n          <Command.Group heading=\"Account\">\n            <Command.Item value=\"profile\">\n              <UserSmall className=\"mr-2 h-4 w-4\" />\n              <span>Profile</span>\n            </Command.Item>\n            <Command.Item value=\"settings\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Settings</span>\n            </Command.Item>\n          </Command.Group>\n          <Command.Group heading=\"Actions\">\n            <Command.Item value=\"search\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search</span>\n            </Command.Item>\n            <Command.Item value=\"files\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Files</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-custom-filtering",
      "name": "With Custom Filtering",
      "exportName": "WithCustomFiltering",
      "description": "**With Custom Filtering**\n\nShows custom filtering logic and disabled filtering for manual control.\nUseful when you need to implement custom search algorithms or server-side filtering.\n\n```tsx\nconst customFilter = (value, search) => {\n  return search.length > 0 ? value.toLowerCase().includes(search.toLowerCase()) ? 1 : 0 : 1\n}\n\n<Command filter={customFilter}>\n  <Command.Input />\n  <Command.List>...</Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n\n  // Custom filter that prioritizes exact matches\n  const customFilter = (value: string, search: string) => {\n    if (!search) return 1\n    const normalizedValue = value.toLowerCase()\n    const normalizedSearch = search.toLowerCase()\n\n    if (normalizedValue === normalizedSearch) return 1\n    if (normalizedValue.startsWith(normalizedSearch)) return 0.9\n    if (normalizedValue.includes(normalizedSearch)) return 0.7\n    return 0\n  }\n\n  const items = [\n    { value: \"search\", label: \"Search\", icon: SearchSmall },\n    { value: \"settings\", label: \"Settings\", icon: Settings },\n    { value: \"user\", label: \"User Profile\", icon: UserSmall },\n    { value: \"file\", label: \"File Manager\", icon: File },\n    { value: \"folder\", label: \"Folder Structure\", icon: Folder },\n  ]\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-col gap-1\">\n        <p>\n          <strong>Custom Filter:</strong> Prioritizes exact matches, then prefix matches\n        </p>\n        <p>\n          <strong>Current Search:</strong> &quot;{search}&quot;\n        </p>\n      </div>\n\n      <Command\n        filter={customFilter}\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n      >\n        <Command.Input\n          placeholder=\"Try 'user' or 'set'...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Actions\">\n            {items.map((item) => (\n              <Command.Item\n                key={item.value}\n                value={item.label}\n                prefixElement={<item.icon />}\n                suffixElement={\n                  <span className=\"text-secondary-foreground mr-1\">{item.value}</span>\n                }\n              >\n                <Command.Value>{item.label}</Command.Value>\n              </Command.Item>\n            ))}\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--keyboard-navigation",
      "name": "Keyboard Navigation",
      "exportName": "KeyboardNavigation",
      "description": "**Interactive Keyboard Navigation**\n\nA comprehensive demonstration of cmdk's keyboard navigation system with real-time feedback.\nThis interactive story shows all keyboard shortcuts and provides visual feedback for each action.\n\n**Keyboard Shortcuts:**\n\nBasic Navigation:\n- â†‘â†“ - Navigate between items\n- Enter - Select current item\n- Home - Jump to first item\n- End - Jump to last item\n\nVim Bindings (toggleable):\n- Ctrl+J - Next item\n- Ctrl+K - Previous item\n- Ctrl+N - Next item\n- Ctrl+P - Previous item\n\nAdvanced Navigation:\n- Alt+â†‘â†“ - Jump between groups\n- Cmd+â†‘â†“ (Mac) - Jump to first/last item\n- Loop navigation - When enabled, circular navigation at boundaries (â†‘ at top goes to bottom)\n\n**Features:**\n- IME Support: Proper handling of CJK input methods without triggering shortcuts\n- Visual Feedback: Real-time activity monitor showing triggered shortcuts\n\n**Usage Tips:**\n- Focus the input first to activate keyboard navigation\n- Use Alt+â†‘â†“ to quickly jump between different sections\n- Toggle vim bindings for familiar Ctrl+J/K/N/P shortcuts\n- Enable loop navigation for circular item navigation\n\n```tsx\n<Command vimBindings={true} loop={true}>\n  <Command.Input />\n  <Command.List>\n    <Command.Group heading=\"Files\">\n      <Command.Item>New File</Command.Item>\n    </Command.Group>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [vimBindings, setVimBindings] = useState(true)\n  const [loop, setLoop] = useState(true)\n  const [selectedValue, setSelectedValue] = useState(\"\")\n  const [lastAction, setLastAction] = useState<{\n    action: string\n    key: string\n    timestamp: string\n  } | null>(null)\n  const [keyLog, setKeyLog] = useState<\n    Array<{\n      action: string\n      key: string\n      timestamp: string\n    }>\n  >([])\n\n  const logKeyAction = (key: string, action: string) => {\n    const timestamp = new Date().toLocaleTimeString()\n    setLastAction({ action, key, timestamp })\n    setKeyLog((prev) => [...prev.slice(-5), { key, action, timestamp }])\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    // Log different types of key actions\n    switch (e.key) {\n      case \"ArrowDown\":\n        if (e.metaKey) logKeyAction(\"Cmd+â†“\", \"Jump to last item\")\n        else if (e.altKey) logKeyAction(\"Alt+â†“\", \"Next group\")\n        else logKeyAction(\"â†“\", \"Next item\")\n        break\n      case \"ArrowUp\":\n        if (e.metaKey) logKeyAction(\"Cmd+â†‘\", \"Jump to first item\")\n        else if (e.altKey) logKeyAction(\"Alt+â†‘\", \"Previous group\")\n        else logKeyAction(\"â†‘\", \"Previous item\")\n        break\n      case \"j\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+J\", \"Vim: Next item\")\n        break\n      case \"k\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+K\", \"Vim: Previous item\")\n        break\n      case \"n\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+N\", \"Vim: Next item\")\n        break\n      case \"p\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+P\", \"Vim: Previous item\")\n        break\n      case \"Home\":\n        logKeyAction(\"Home\", \"Jump to first item\")\n        break\n      case \"End\":\n        logKeyAction(\"End\", \"Jump to last item\")\n        break\n      case \"Enter\":\n        logKeyAction(\"Enter\", `Select: ${selectedValue}`)\n        break\n    }\n  }\n\n  return (\n    <div className=\"flex w-96 flex-col gap-6\">\n      {/* Control Panel */}\n      <div className=\"flex flex-wrap gap-4 rounded-xl border p-4\">\n        <Checkbox\n          value={vimBindings}\n          onChange={(v) => setVimBindings(v)}\n        >\n          Enable Vim Bindings (Ctrl+J/K/N/P)\n        </Checkbox>\n        <Checkbox\n          value={loop}\n          onChange={(v) => setLoop(v)}\n        >\n          Enable Loop Navigation\n        </Checkbox>\n      </div>\n\n      {/* Interactive Command Component */}\n\n      <Command\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        vimBindings={vimBindings}\n        loop={loop}\n        value={selectedValue}\n        onChange={setSelectedValue}\n        onKeyDown={handleKeyDown}\n      >\n        <Command.Input placeholder=\"Focus here and try the keyboard shortcuts above...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n\n          <Command.Group heading=\"File Operations\">\n            <Command.Item value=\"new-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>New File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                N\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"open-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Open File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                O\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"save-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Save File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                S\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"Search & Navigation\">\n            <Command.Item value=\"search-files\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search Files</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                F\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"go-to-line\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Go to Line</span>\n              <Kbd\n                keys=\"ctrl\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                G\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"find-replace\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Find & Replace</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                H\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"User & Settings\">\n            <Command.Item value=\"user-profile\">\n              <UserSmall className=\"mr-2 h-4 w-4\" />\n              <span>User Profile</span>\n            </Command.Item>\n            <Command.Item value=\"preferences\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Preferences</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                ,\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"shortcuts\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Keyboard Shortcuts</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                K\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"Appearance\">\n            <Command.Item value=\"theme-light\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Light Theme</span>\n            </Command.Item>\n            <Command.Item value=\"theme-dark\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Dark Theme</span>\n            </Command.Item>\n            <Command.Item value=\"theme-auto\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Auto Theme</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n\n        <Command.Footer>\n          <div className=\"text-secondary-foreground flex items-center justify-between\">\n            <span>\n              Selected: <strong>{selectedValue || \"None\"}</strong>\n            </span>\n            <span>Try all keyboard shortcuts! ðŸŽ¹</span>\n          </div>\n        </Command.Footer>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--large-dataset",
      "name": "Large Dataset",
      "exportName": "LargeDataset",
      "description": "**Large Dataset**\n\nPerformance test with a large number of items to demonstrate\nefficient rendering and search capabilities.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    {largeItemList.map(item => (\n      <Command.Item key={item.id} value={item.name}>\n        {item.name}\n      </Command.Item>\n    ))}\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  // Generate a large dataset\n  const items = Array.from({ length: 100 }, (_, i) => ({\n    id: i,\n    name: `Item ${i + 1}`,\n    category: i < 33 ? \"Files\" : i < 66 ? \"Actions\" : \"Settings\",\n    description: `Description for item ${i + 1}`,\n  }))\n\n  const categories = [\"Files\", \"Actions\", \"Settings\"]\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-col gap-1\">\n        <p>\n          <strong>Dataset Size:</strong> {items.length} items across {categories.length}{\" \"}\n          categories\n        </p>\n        <p>\n          <strong>Performance:</strong> Try searching to see fast filtering in action\n        </p>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search 100 items...\" />\n        <Command.List className=\"max-h-64\">\n          <Command.Empty>No results found in {items.length} items.</Command.Empty>\n          {categories.map((category) => (\n            <Command.Group\n              key={category}\n              heading={category}\n            >\n              {items\n                .filter((item) => item.category === category)\n                .map((item) => (\n                  <Command.Item\n                    key={item.id}\n                    value={`${item.name} ${item.description}`}\n                  >\n                    <div className=\"flex flex-col items-start\">\n                      <span>{item.name}</span>\n                      <span className=\"text-secondary-foreground\">{item.description}</span>\n                    </div>\n                  </Command.Item>\n                ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--complex-items",
      "name": "Complex Items",
      "exportName": "ComplexItems",
      "description": "**Complex Items**\n\nDemonstrates rich item content with metadata, badges, and custom layouts.\nPerfect for file browsers, user selectors, or detailed action lists.\n\n```tsx\n<Command.Item value=\"complex-item\">\n  <div className=\"flex items-center justify-between w-full\">\n    <div className=\"flex items-center\">\n      <Icon />\n      <div>\n        <div>Title</div>\n        <div className=\" text-secondary-foreground\">Subtitle</div>\n      </div>\n    </div>\n    <Badge>New</Badge>\n  </div>\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  const commandOptions = [\n    {\n      label: \"Recent Files\",\n      group: [\n        {\n          label: \"Project\",\n          value: \"project-readme\",\n          description: \"Modified 2 hours ago â€¢ 1.2 KB\",\n          prefixElement: <File />,\n          suffixElement: <Badge>MD</Badge>,\n        },\n        {\n          label: \"Config\",\n          value: \"config-file\",\n          description: \"Modified yesterday â€¢ 0.8 KB\",\n          prefixElement: <Settings />,\n        },\n        {\n          label: \"README\",\n          value: \"readme-file\",\n          description: \"Modified 2 hours ago â€¢ 1.2 KB\",\n          prefixElement: <File />,\n          suffixElement: <Badge>MD</Badge>,\n        },\n      ],\n    },\n    {\n      label: \"Team Members\",\n      group: [\n        {\n          label: \"John Doe\",\n          value: \"john-doe\",\n          description: \"Senior Developer â€¢ Online\",\n          prefixElement: <UserSmall />,\n          suffixElement: <Badge>Online</Badge>,\n        },\n        {\n          label: \"Jane Smith\",\n          value: \"jane-smith\",\n          description: \"UI/UX Designer â€¢ Away\",\n          prefixElement: <UserSmall />,\n          suffixElement: <Badge>Away</Badge>,\n        },\n      ],\n    },\n  ]\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search files and users...\" />\n      <Command.List>\n        <Command.Empty>No results found.</Command.Empty>\n        {commandOptions.map((option) => (\n          <Command.Group\n            key={option.label}\n            heading={option.label}\n          >\n            {option.group.map((item) => (\n              <Command.Item\n                key={item.value}\n                value={item.value}\n              >\n                <div className=\"flex flex-1 flex-col gap-1\">\n                  <div className=\"flex items-center gap-1\">\n                    {item.prefixElement}\n                    <div className=\"flex-1\">{item.label}</div>\n                    {item.suffixElement}\n                  </div>\n                  <div className=\"text-secondary-foreground\">{item.description}</div>\n                </div>\n              </Command.Item>\n            ))}\n          </Command.Group>\n        ))}\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-footer",
      "name": "With Footer",
      "exportName": "WithFooter",
      "description": "**With Footer**\n\nDemonstrates the Command.Footer component for displaying additional\ninformation, shortcuts, or action hints at the bottom of the command menu.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>...</Command.List>\n  <Command.Footer>...</Command.Footer>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect, useRef } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [selectedCommand, setSelectedCommand] = useState(\"\")\n  const [selectedDropdown, setSelectedDropdown] = useState(\"\")\n  const commandRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!open) {\n      commandRef.current?.focus()\n    }\n  }, [open])\n\n  const commandOptions = [\n    {\n      label: \"Actions\",\n      group: [\n        {\n          label: \"New File\",\n          value: \"new-file\",\n        },\n        {\n          label: \"Open Folder\",\n          value: \"open-folder\",\n        },\n        {\n          label: \"Search Files\",\n          value: \"search-files\",\n        },\n      ],\n    },\n    {\n      label: \"Settings\",\n      group: [\n        {\n          label: \"Preferences\",\n          value: \"preferences\",\n        },\n        {\n          label: \"Keyboard Shortcuts\",\n          value: \"keyboard-shortcuts\",\n        },\n        {\n          label: \"Theme\",\n          value: \"theme\",\n        },\n      ],\n    },\n  ]\n\n  const dropdownOptions = [\n    {\n      label: \"Open Application\",\n      value: \"open-application\",\n    },\n    {\n      label: \"Show in Finder\",\n      value: \"show-in-finder\",\n    },\n    {\n      label: \"Show Info in Finder\",\n      value: \"show-info-in-finder\",\n    },\n    {\n      label: \"Add to Favorites\",\n      value: \"add-to-favorites\",\n    },\n  ]\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-col gap-1 rounded-xl border p-4\">\n        <strong className=\"text-secondary-foreground\">Selected:</strong>\n        <div className=\"flex items-center gap-2\">\n          <span>Command: </span>\n          {selectedCommand && (\n            <Badge>\n              <span>{selectedCommand}</span>\n            </Badge>\n          )}\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span>Dropdown: </span>\n          {selectedDropdown && <Badge>{selectedDropdown}</Badge>}\n        </div>\n      </div>\n\n      <Command\n        ref={commandRef}\n        loop\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onChange={setSelectedCommand}\n        onKeyDown={(e) => {\n          // Handle global Command shortcuts\n          if (e.key === \"i\" && e.metaKey) {\n            e.preventDefault()\n            setOpen((prev) => !prev)\n            return\n          }\n        }}\n      >\n        <Command.Input placeholder=\"Search commands...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n          {commandOptions.map((option) => (\n            <Command.Group\n              key={option.label}\n              heading={option.label}\n            >\n              {option.group.map((item) => (\n                <Command.Item\n                  key={item.value}\n                  value={item.value}\n                  onSelect={() => setSelectedCommand(item.value)}\n                >\n                  {item.label}\n                </Command.Item>\n              ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n        <Command.Footer>\n          <span className=\"text-secondary-foreground px-2\">Choiceform</span>\n          <Dropdown\n            open={open}\n            onOpenChange={setOpen}\n            placement=\"top-end\"\n          >\n            <Dropdown.Trigger asChild>\n              <Button variant=\"ghost\">\n                Actions{\" \"}\n                <Kbd\n                  keys=\"command\"\n                  className=\"text-secondary-foreground\"\n                >\n                  I\n                </Kbd>\n              </Button>\n            </Dropdown.Trigger>\n            <Dropdown.Content>\n              {dropdownOptions.map((option) => (\n                <Dropdown.Item\n                  key={option.value}\n                  onClick={() => setSelectedDropdown(option.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\") {\n                      setSelectedDropdown(option.value)\n                      setOpen(false)\n                    }\n                  }}\n                >\n                  <Dropdown.Value>{option.label}</Dropdown.Value>\n                </Dropdown.Item>\n              ))}\n            </Dropdown.Content>\n          </Dropdown>\n        </Command.Footer>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-store",
      "name": "Core Mechanism Store",
      "exportName": "CoreMechanismStore",
      "description": "**Core Mechanism: Store & State Management**\n\nDemonstrates the centralized state management system that powers cmdk.\nShows how search, selection, and filtering states are managed centrally.\n\n**Key Features:**\n- Centralized state store with subscribe/emit pattern\n- Real-time state synchronization across components\n- Optimized updates with value comparison guards\n- Async scheduling to prevent infinite loops\n\n**How it works:**\nThe store uses a centralized state with subscribe/emit pattern. Each component subscribes to state changes and re-renders only when necessary.\n\n**Try it:**\n- Type in the input to see search query and filtered count change\n- Use arrow keys to navigate - watch selectedItemId update\n- Press Enter to select - watch value update\n- Filter items - watch visible groups change\n\n```tsx\n// Access specific state values using selectors\nconst search = useCommandState((state) => state.search)\nconst value = useCommandState((state) => state.value)\nconst filteredCount = useCommandState((state) => state.filtered.count)\nconst filteredGroups = useCommandState((state) => state.filtered.groups)\n\n// State structure:\n// { search, value, selectedItemId, filtered: { count, items, groups } }\n```",
      "source": "import { Command, useCommandState } from \"@choice-ui/command\"\nimport { useState, useRef, useLayoutEffect, useId } from \"react\"\n\nexport default function App() {\n\n  const listRef = React.useRef<HTMLDivElement>(null)\n\n  function StateMonitor() {\n    const search = useCommandState((state) => state.search)\n    const value = useCommandState((state) => state.value)\n    const selectedItemId = useCommandState((state) => state.selectedItemId)\n    const filteredCount = useCommandState((state) => state.filtered.count)\n    const filteredGroups = useCommandState((state) => state.filtered.groups)\n\n    // Use useRef to track update count, avoid triggering re-renders\n    const updateCountRef = React.useRef(0)\n    const prevStateRef = React.useRef({\n      search: \"\",\n      value: \"\",\n      selectedItemId: \"\",\n      filteredCount: 0,\n      filteredGroupsStr: \"\",\n    })\n\n    // Convert Set to string for comparison\n    const filteredGroupsStr = Array.from(filteredGroups).sort().join(\",\")\n\n    // Query DOM to get visible group headings for better display\n    const [visibleGroupNames, setVisibleGroupNames] = React.useState<string[]>([])\n\n    React.useLayoutEffect(() => {\n      if (!listRef.current || filteredGroups.size === 0) {\n        setVisibleGroupNames([])\n        return\n      }\n      const names: string[] = []\n      // Find all visible groups (elements with role=\"group\")\n      const groupElements = listRef.current.querySelectorAll('[role=\"group\"]')\n      groupElements.forEach((groupEl) => {\n        // Group heading is in the sibling element before the group element\n        let sibling = groupEl.previousElementSibling\n        while (sibling) {\n          // Find element containing heading (usually a div with specific class)\n          const headingText = sibling.textContent?.trim()\n          if (headingText && headingText.length > 0 && headingText.length < 50) {\n            names.push(headingText)\n            break\n          }\n          sibling = sibling.previousElementSibling\n        }\n      })\n      setVisibleGroupNames(names)\n    }, [filteredGroups.size, filteredGroupsStr])\n\n    // Check if state has actually changed\n    const currentState = {\n      search,\n      value,\n      selectedItemId: selectedItemId || \"\",\n      filteredCount,\n      filteredGroupsStr,\n    }\n\n    const hasChanged =\n      prevStateRef.current.search !== currentState.search ||\n      prevStateRef.current.value !== currentState.value ||\n      prevStateRef.current.selectedItemId !== currentState.selectedItemId ||\n      prevStateRef.current.filteredCount !== currentState.filteredCount ||\n      prevStateRef.current.filteredGroupsStr !== currentState.filteredGroupsStr\n\n    if (hasChanged) {\n      updateCountRef.current += 1\n      prevStateRef.current = currentState\n    }\n\n    return (\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"font-strong mb-3\">Internal State Monitor</h3>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <strong>Search Query:</strong> &quot;{search}&quot;\n          </div>\n          <div>\n            <strong>Selected Value:</strong> &quot;{value || \"(none)\"}&quot;\n          </div>\n          <div>\n            <strong>Selected Item ID:</strong> {selectedItemId || \"(none)\"}\n          </div>\n          <div>\n            <strong>Filtered Count:</strong> {filteredCount}\n          </div>\n          <div>\n            <strong>Update Count:</strong> {updateCountRef.current}\n          </div>\n          <div className=\"col-span-2\">\n            <strong>Visible Groups:</strong>{\" \"}\n            {visibleGroupNames.length > 0 ? (\n              <span>[{visibleGroupNames.join(\", \")}]</span>\n            ) : filteredGroups.size > 0 ? (\n              <span>\n                <span className=\"text-secondary-foreground\">[{filteredGroupsStr}]</span>{\" \"}\n                <span className=\"text-secondary-foreground text-xs\">\n                  (React useId() generated IDs)\n                </span>\n              </span>\n            ) : (\n              <span>[none]</span>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex w-96 flex-col gap-6\">\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Type to see state changes...\" />\n        <Command.List ref={listRef}>\n          <Command.Empty>No results found.</Command.Empty>\n          <Command.Group heading=\"Files\">\n            <Command.Item value=\"new-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>New File</span>\n            </Command.Item>\n            <Command.Item value=\"open-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Open File</span>\n            </Command.Item>\n          </Command.Group>\n          <Command.Group heading=\"Actions\">\n            <Command.Item value=\"search-files\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search Files</span>\n            </Command.Item>\n            <Command.Item value=\"settings\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Settings</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n\n        <Command.Footer className=\"h-auto px-4 py-2\">\n          <StateMonitor />\n        </Command.Footer>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-value-registration",
      "name": "Core Mechanism Value Registration",
      "exportName": "CoreMechanismValueRegistration",
      "description": "**Core Mechanism: Value Registration System**\n\nDemonstrates how Command.Item and Command.Group automatically extract and register values\nusing the useValue hook internally. Shows value extraction from props, children, and DOM content.\n\n**Key Features:**\n- Automatic value extraction from content or props\n- Real-time registration without dependency arrays\n- Keyword aliases for enhanced search matching\n- DOM attribute synchronization (data-value) for CSS selectors\n\n**How it works:**\n- Command.Item and Command.Group internally call useValue() hook\n- useValue() runs on every render (no deps array) to keep values synchronized\n- It extracts value from: 1) value prop, 2) children text content, 3) DOM textContent\n- Values are registered with the global store for search and filtering\n- DOM elements get a data-value attribute for CSS selector targeting\n\n**Internal implementation:**\n```tsx\n// Inside Command.Item component:\nconst valueDeps = useMemo(() => [value, children, ref], [value, children])\nconst valueRef = useValue(id, ref, valueDeps, keywords)\n```\n\n**Usage:**\n```tsx\n// You don't need to call useValue directly - it's used internally:\n<Command.Item value=\"explicit-value\">Content</Command.Item>\n<Command.Item>Content from children</Command.Item>\n<Command.Item value=\"file\" keywords={[\"doc\", \"document\"]}>File</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [itemCount, setItemCount] = useState(3)\n  const [dynamicContent, setDynamicContent] = useState(\"Dynamic Content\")\n\n  return (\n    <div className=\"flex w-96 flex-col gap-6\">\n      <div className=\"flex flex-col gap-2 rounded-lg border p-4\">\n        <div className=\"flex gap-4\">\n          <Button onClick={() => setItemCount((prev) => Math.max(1, prev - 1))}>\n            Remove Item\n          </Button>\n          <Button onClick={() => setItemCount((prev) => prev + 1)}>Add Item</Button>\n          <span className=\"flex items-center\">Items: {itemCount}</span>\n        </div>\n        <div className=\"flex flex-col gap-2\">\n          <Label>Dynamic Content:</Label>\n          <Input\n            value={dynamicContent}\n            onChange={(value) => setDynamicContent(value)}\n          />\n        </div>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search to see value matching...\" />\n        <Command.List className=\"h-40\">\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Value from Props\">\n            <div className=\"text-secondary-foreground mb-2 text-xs\">\n              Items with explicit value prop - value is extracted from prop\n            </div>\n            {Array.from({ length: itemCount }, (_, i) => (\n              <Command.Item\n                key={i}\n                value={`dynamic-item-${i + 1} item ${i + 1} test`}\n              >\n                <File className=\"mr-2 h-4 w-4\" />\n                <span>Dynamic Item {i + 1}</span>\n              </Command.Item>\n            ))}\n          </Command.Group>\n          <Command.Group heading=\"Value from Children\">\n            <div className=\"text-secondary-foreground mb-2 text-xs\">\n              Items without value prop - value is extracted from children text content\n            </div>\n            <Command.Item>\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>{dynamicContent}</span>\n            </Command.Item>\n            <Command.Item>\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Static Content Item</span>\n            </Command.Item>\n          </Command.Group>\n          <Command.Group heading=\"With Keyword Aliases\">\n            <div className=\"text-secondary-foreground mb-2 text-xs\">\n              Items with keywords - search matches both value and keywords\n            </div>\n            <Command.Item\n              value=\"javascript-file\"\n              keywords={[\"js\", \"script\", \"code\"]}\n            >\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>app.js</span>\n              <span className=\"text-secondary-foreground ml-auto\">Try: js, script</span>\n            </Command.Item>\n            <Command.Item\n              value=\"stylesheet-file\"\n              keywords={[\"css\", \"style\", \"design\"]}\n            >\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>styles.css</span>\n              <span className=\"text-secondary-foreground ml-auto\">Try: css, style</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-async-scheduling",
      "name": "Core Mechanism Async Scheduling",
      "exportName": "CoreMechanismAsyncScheduling",
      "description": "**Core Mechanism: Async Scheduling System**\n\nDemonstrates the scheduling system that prevents infinite loops and optimizes updates.\nCommand uses `useScheduleLayoutEffect` to batch operations and execute them in the next layout effect cycle.\n\n**Why scheduling is needed:**\n- Prevents infinite loops: When operations trigger state changes that trigger more operations\n- Batches updates: Multiple operations scheduled with the same ID are deduplicated\n- Optimizes DOM updates: All operations execute together in one layout effect cycle\n- Breaks recursive cycles: Defers execution to avoid synchronous recursion\n\n**How it works:**\n- `schedule(id, callback)` stores callbacks in a Map keyed by ID\n- Operations with the same ID replace previous ones (deduplication)\n- All scheduled callbacks execute together in the next `useIsomorphicLayoutEffect`\n- After execution, the Map is cleared\n\n**Common scheduling priorities:**\n- Priority 1: `selectFirstItem()` - High priority, runs first\n- Priority 2: `sort()` + `store.emit()` - Value registration\n- Priority 3: `filterItems()` + `sort()` - Item mount/unmount\n- Priority 4: `filterItems()` - Item removal\n- Priority 5: `scrollIntoView()` - Scroll operations\n- Priority 7: `updateSelection()` - Selection updates\n\n**What happens when you type:**\n1. Search state updates synchronously\n2. `schedule(1, selectFirstItem)` - Queued\n3. `filterItems()` - Runs immediately\n4. `sort()` - Runs immediately\n5. All scheduled operations execute in next layout effect\n\n**What happens when item mounts:**\n1. Item registers with store\n2. `schedule(3, filterItems + sort)` - Queued\n3. If no value selected, `selectFirstItem()` runs\n4. All operations batch together in layout effect\n\n**Benefits:**\n- Prevents infinite loops from recursive updates\n- Batches multiple operations into one DOM update cycle\n- Deduplicates operations with same priority ID\n- Optimizes performance by reducing layout thrashing\n\n```tsx\n// Operations are scheduled and batched:\nschedule(1, selectFirstItem)    // High priority\nschedule(5, scrollIntoView)      // Medium priority\nschedule(7, updateSelection)    // Low priority\n// All execute together in next layout effect\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Type to see scheduling in action...\" />\n      <Command.List className=\"h-40\">\n        <Command.Empty>No results found.</Command.Empty>\n        <Command.Group heading=\"Test Items\">\n          <Command.Item value=\"search-item\">\n            <SearchSmall className=\"mr-2 h-4 w-4\" />\n            <span>Search Item</span>\n          </Command.Item>\n          <Command.Item value=\"file-item\">\n            <File className=\"mr-2 h-4 w-4\" />\n            <span>File Item</span>\n          </Command.Item>\n          <Command.Item value=\"settings-item\">\n            <Settings className=\"mr-2 h-4 w-4\" />\n            <span>Settings Item</span>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-fuzzy-search",
      "name": "Core Mechanism Fuzzy Search",
      "exportName": "CoreMechanismFuzzySearch",
      "description": "**Core Mechanism: Fuzzy Search Algorithm**\n\nShows the sophisticated scoring algorithm that powers cmdk's search functionality.\nDemonstrates how different match types get different scores and priorities.\n\n**Key Features:**\n- Fuzzy matching with smart scoring\n- Prefix matches score higher than substring matches\n- Case-sensitive bonus scoring\n- Keyword alias support\n- Real-time score visualization\n\n```tsx\nconst score = commandScore(value, search, keywords)\n// Returns 0-1 score based on match quality\n```",
      "source": "import { Command, commandScore } from \"@choice-ui/command\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n  const [scores, setScores] = useState<\n    Array<{\n      item: string\n      keywords?: string[]\n      score: number\n      value: string\n    }>\n  >([])\n\n  const testItems = [\n    { value: \"New File\", keywords: [\"create\", \"add\"] },\n    { value: \"Open File\", keywords: [\"load\", \"import\"] },\n    { value: \"Save File\", keywords: [\"export\", \"write\"] },\n    { value: \"Search Files\", keywords: [\"find\", \"locate\"] },\n    { value: \"User Profile\", keywords: [\"account\", \"settings\"] },\n    { value: \"System Settings\", keywords: [\"config\", \"preferences\"] },\n    { value: \"JavaScript File\", keywords: [\"js\", \"script\"] },\n    { value: \"CSS Stylesheet\", keywords: [\"css\", \"style\"] },\n  ]\n\n  React.useEffect(() => {\n    const newScores = testItems\n      .map((item) => ({\n        item: item.value,\n        value: item.value,\n        score: search ? commandScore(item.value, search, item.keywords) : 1,\n        keywords: item.keywords,\n      }))\n      .sort((a, b) => b.score - a.score)\n\n    setScores(newScores)\n  }, [search])\n\n  return (\n    <div className=\"flex w-96 flex-col gap-6\">\n      <div className=\"rounded-xl border p-4\">\n        <h3 className=\"font-strong mb-3\">Search Score Visualization</h3>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-strong\">Search Query:</span>\n            <code className=\"bg-background rounded px-2 py-1\">{search || \"(empty)\"}</code>\n          </div>\n          <div className=\"max-h-48 overflow-y-auto\">\n            {scores.map((item, i) => (\n              <div\n                key={item.item}\n                className=\"flex items-center justify-between py-1\"\n              >\n                <span className=\"flex-1\">{item.item}</span>\n                <div className=\"flex items-center gap-2\">\n                  {item.keywords && (\n                    <span className=\"text-secondary-foreground\">\n                      [{item.keywords.join(\", \")}]\n                    </span>\n                  )}\n                  <div className=\"flex items-center gap-1\">\n                    <div className=\"h-1 w-16 rounded bg-gray-200\">\n                      <div\n                        className=\"h-full rounded bg-gradient-to-r from-red-400 to-green-400\"\n                        style={{ width: `${item.score * 100}%` }}\n                      />\n                    </div>\n                    <span className=\"w-12 font-mono\">{item.score.toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4 rounded-xl border p-4\">\n        <div>\n          <h4 className=\"font-strong mb-2\">ðŸŽ¯ Score Legend</h4>\n          <div className=\"space-y-1\">\n            <div>1.0 - Exact match</div>\n            <div>0.9 - Prefix match</div>\n            <div>0.8 - Word boundary</div>\n            <div>0.7 - Keyword match</div>\n            <div>0.6 - Substring match</div>\n            <div>0.5 - Fuzzy match</div>\n            <div>0.0 - No match</div>\n          </div>\n        </div>\n        <div>\n          <h4 className=\"font-strong mb-2\">ðŸ’¡ Try These Searches</h4>\n          <div className=\"flex flex-wrap gap-1\">\n            {[\"file\", \"js\", \"user\", \"set\", \"css\", \"new\", \"search\"].map((term) => (\n              <Chip\n                key={term}\n                onClick={() => setSearch(term)}\n              >\n                {term}\n              </Chip>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input\n          placeholder=\"Type to see live scoring...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Live Search Results\">\n            {scores\n              .filter((item) => item.score > 0)\n              .map((item) => (\n                <Command.Item\n                  key={item.item}\n                  value={item.value}\n                >\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>{item.item}</span>\n                  <span className=\"text-secondary-foreground ml-auto\">\n                    {item.score.toFixed(2)}\n                  </span>\n                </Command.Item>\n              ))}\n          </Command.Group>\n        </Command.List>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        ðŸ’¡ <strong>How it works:</strong> The scoring algorithm evaluates match quality using\n        multiple criteria and assigns higher scores to better matches, enabling intelligent\n        ranking.\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--nested-items",
      "name": "Nested Items",
      "exportName": "NestedItems",
      "description": "**Example: Nested Items / Pages**\n\nDemonstrates navigation between different \"pages\" of items using state management.\nShows how to implement drill-down navigation where selecting one item shows a deeper set of items.\n\n**Key Features:**\n- Page stack management with state\n- Escape/Backspace to go back to previous page\n- Conditional rendering based on current page\n- Dynamic page navigation\n\n```tsx\nconst [pages, setPages] = useState([])\nconst page = pages[pages.length - 1]\n\n// Navigate deeper\n<Command.Item onSelect={() => setPages([...pages, 'projects'])}>\n  Search projectsâ€¦\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n  const [pages, setPages] = useState<string[]>([])\n  const page = pages[pages.length - 1]\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Navigation Guide:</div>\n        <ul className=\"space-y-1\">\n          <li>â€¢ Select items to navigate deeper into subcategories</li>\n          <li>\n            â€¢ <Kbd keys=\"escape\" /> or <Kbd keys=\"backspace\" /> (when search is empty) to go back\n          </li>\n          <li>â€¢ Current path: {pages.length === 0 ? \"Home\" : pages.join(\" > \")}</li>\n        </ul>\n      </div>\n\n      <Command\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onKeyDown={(e) => {\n          // Escape goes to previous page\n          // Backspace goes to previous page when search is empty\n          if (e.key === \"Escape\" || (e.key === \"Backspace\" && !search)) {\n            e.preventDefault()\n            setPages((pages) => pages.slice(0, -1))\n          }\n        }}\n      >\n        <Command.Input\n          placeholder={page ? `Search in ${page}...` : \"Type a command or search...\"}\n          value={search}\n          onChange={setSearch}\n          variant=\"reset\"\n          className=\"mb-0\"\n          prefixElement={\n            page && (\n              <IconButton\n                variant=\"secondary\"\n                onClick={() => setPages((pages) => pages.slice(0, -1))}\n              >\n                <ChevronLeftSmall />\n              </IconButton>\n            )\n          }\n        />\n        <Command.Divider />\n        <Command.List>\n          <Command.Empty>No results found.</Command.Empty>\n\n          {/* Root level */}\n          {!page && (\n            <>\n              <Command.Group heading=\"Categories\">\n                <Command.Item onSelect={() => setPages([...pages, \"projects\"])}>\n                  <Folder className=\"mr-2 h-4 w-4\" />\n                  <span>Search projectsâ€¦</span>\n                </Command.Item>\n                <Command.Item onSelect={() => setPages([...pages, \"teams\"])}>\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Join a teamâ€¦</span>\n                </Command.Item>\n                <Command.Item onSelect={() => setPages([...pages, \"settings\"])}>\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>App settingsâ€¦</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Projects page */}\n          {page === \"projects\" && (\n            <>\n              <Command.Group heading=\"Recent Projects\">\n                <Command.Item value=\"project-a\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Design System</span>\n                </Command.Item>\n                <Command.Item value=\"project-b\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Marketing Website</span>\n                </Command.Item>\n                <Command.Item value=\"project-c\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Mobile App</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Teams page */}\n          {page === \"teams\" && (\n            <>\n              <Command.Group heading=\"Available Teams\">\n                <Command.Item value=\"team-design\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Design Team</span>\n                </Command.Item>\n                <Command.Item value=\"team-engineering\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Engineering Team</span>\n                </Command.Item>\n                <Command.Item value=\"team-product\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Product Team</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Settings page */}\n          {page === \"settings\" && (\n            <>\n              <Command.Group heading=\"Preferences\">\n                <Command.Item value=\"theme-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Theme Settings</span>\n                </Command.Item>\n                <Command.Item value=\"notification-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Notifications</span>\n                </Command.Item>\n                <Command.Item value=\"account-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Account</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--conditional-sub-items",
      "name": "Conditional Sub Items",
      "exportName": "ConditionalSubItems",
      "description": "**Example: Conditional Sub-Items**\n\nShows how to conditionally render sub-items that only appear when searching.\nUseful for revealing detailed actions only when the user is actively searching.\n\n**Key Features:**\n- Sub-items only visible during search\n- Custom SubItem component using useCommandState\n- Progressive disclosure pattern\n- Search-driven UI expansion\n\n```tsx\nconst SubItem = (props) => {\n  const search = useCommandState((state) => state.search)\n  if (!search) return null\n  return <Command.Item {...props} />\n}\n```",
      "source": "import { Command, useCommandState } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  // Custom SubItem component that only shows when searching\n  const SubItem = ({ children, ...props }: { children: React.ReactNode; value?: string }) => {\n    const search = useCommandState((state) => state.search)\n    if (!search) return null\n    return <Command.Item {...props}>{children}</Command.Item>\n  }\n\n  return (\n    <div className=\"flex w-96 flex-col gap-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Search Behavior:</div>\n        <ul className=\"space-y-1\">\n          <li>\n            â€¢ <strong>Normal view:</strong> Shows only main items\n          </li>\n          <li>\n            â€¢ <strong>When searching:</strong> Sub-items become visible\n          </li>\n          <li>\n            â€¢ Try searching for &quot;theme&quot;, &quot;dark&quot;, or &quot;notification&quot;\n            to see sub-items appear\n          </li>\n        </ul>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Start typing to reveal sub-items...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n\n          <Command.Group heading=\"Appearance\">\n            <Command.Item\n              value=\"change-theme\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Change themeâ€¦</Command.Value>\n            </Command.Item>\n            <SubItem value=\"change-theme-dark\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-gray-800\" />\n                <Command.Value>Change theme to dark</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"change-theme-light\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full border bg-white\" />\n                <Command.Value>Change theme to light</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"change-theme-auto\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-gradient-to-r from-gray-800 to-white\" />\n                <Command.Value>Change theme to auto</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n\n          <Command.Group heading=\"Notifications\">\n            <Command.Item\n              value=\"notification-settings\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Notification settingsâ€¦</Command.Value>\n            </Command.Item>\n            <SubItem value=\"enable-notifications\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-green-500\" />\n                <Command.Value>Enable all notifications</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"disable-notifications\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-red-500\" />\n                <Command.Value>Disable all notifications</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"notification-schedule\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-blue-500\" />\n                <Command.Value>Set notification schedule</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n\n          <Command.Group heading=\"Privacy\">\n            <Command.Item\n              value=\"privacy-settings\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Privacy settingsâ€¦</Command.Value>\n            </Command.Item>\n            <SubItem value=\"clear-data\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-orange-500\" />\n                <Command.Value>Clear browsing data</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"manage-cookies\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-purple-500\" />\n                <Command.Value>Manage cookies</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--async-results",
      "name": "Async Results",
      "exportName": "AsyncResults",
      "description": "**Example: Asynchronous Results**\n\nDemonstrates loading data asynchronously and displaying results as they become available.\nShows proper loading states and handles dynamic content updates.\n\n**Key Features:**\n- Async data fetching simulation\n- Loading states with Command.Loading\n- Dynamic item rendering\n- Automatic filtering and sorting\n\n```tsx\nconst [loading, setLoading] = useState(false)\nconst [items, setItems] = useState([])\n\nuseEffect(() => {\n  async function fetchData() {\n    setLoading(true)\n    const data = await api.get('/items')\n    setItems(data)\n    setLoading(false)\n  }\n  fetchData()\n}, [])\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [loading, setLoading] = useState(false)\n  const [items, setItems] = useState<string[]>([])\n  const [error, setError] = useState<string | null>(null)\n\n  // Simulate async data fetching\n  const fetchItems = async () => {\n    setLoading(true)\n    setError(null)\n    setItems([])\n\n    try {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 2000))\n\n      // Simulate random data\n      const mockItems = [\n        \"Apple\",\n        \"Banana\",\n        \"Cherry\",\n        \"Date\",\n        \"Elderberry\",\n        \"Fig\",\n        \"Grape\",\n        \"Honeydew\",\n        \"Kiwi\",\n        \"Lemon\",\n        \"Mango\",\n        \"Nectarine\",\n        \"Orange\",\n        \"Papaya\",\n        \"Quince\",\n        \"Raspberry\",\n        \"Strawberry\",\n        \"Tangerine\",\n        \"Ugli\",\n        \"Vanilla\",\n      ]\n\n      // Randomly select 8-12 items\n      const selectedItems = mockItems\n        .sort(() => Math.random() - 0.5)\n        .slice(0, Math.floor(Math.random() * 5) + 8)\n\n      setItems(selectedItems)\n    } catch (err) {\n      setError(\"Failed to load items\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchItems()\n  }, [])\n\n  return (\n    <div className=\"flex w-96 flex-col gap-4\">\n      <div className=\"flex items-center justify-between rounded-xl border p-4\">\n        <div className=\"\">\n          <div className=\"font-strong\">Async Data Loading</div>\n          <div className=\"text-secondary-foreground\">\n            Status: {loading ? \"Loading...\" : error ? \"Error\" : `${items.length} items loaded`}\n          </div>\n        </div>\n        <Button\n          onClick={fetchItems}\n          disabled={loading}\n        >\n          {loading ? \"Loading...\" : \"Refresh Data\"}\n        </Button>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search items...\" />\n        <Command.List className=\"h-64\">\n          {loading && (\n            <Command.Loading>\n              <Command.Value>Fetching fresh data...</Command.Value>\n            </Command.Loading>\n          )}\n\n          {error && (\n            <Command.Empty>\n              <Command.Value>Error: {error}</Command.Value>\n            </Command.Empty>\n          )}\n\n          {!loading && !error && items.length === 0 && (\n            <Command.Empty>No items available.</Command.Empty>\n          )}\n\n          {!loading && !error && (\n            <Command.Group heading={`Fresh Items (${items.length})`}>\n              {items.map((item) => (\n                <Command.Item\n                  key={`fruit-${item}`}\n                  value={item}\n                >\n                  <Command.Value>{item}</Command.Value>\n                </Command.Item>\n              ))}\n            </Command.Group>\n          )}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-tabs",
      "name": "With Tabs",
      "exportName": "WithTabs",
      "description": "**Example: Command with Tabs Filter**\n\nDemonstrates how to use Command.Tabs for quick filtering of items by category.\nThe first tab is always \"All\" to show all items, followed by category-specific filters.\n\n**Key Features:**\n- Tab-based filtering system\n- \"All\" tab shows all items\n- Category-specific filtering\n- Preserves search functionality within filters\n- Integrated with Command's existing filtering system\n\n```tsx\n<Command.Tabs value={activeTab} onChange={setActiveTab}>\n  <Tabs.Item value=\"all\">All</Tabs.Item>\n  <Tabs.Item value=\"files\">Files</Tabs.Item>\n  <Tabs.Item value=\"actions\">Actions</Tabs.Item>\n</Command.Tabs>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [activeTab, setActiveTab] = useState(\"all\")\n  const [searchValue, setSearchValue] = useState(\"\")\n\n  // Mock data with categories\n  const allItems = [\n    {\n      id: \"new-file\",\n      label: \"New File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"create\", \"document\"],\n    },\n    {\n      id: \"open-file\",\n      label: \"Open File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"browse\", \"open\"],\n    },\n    {\n      id: \"save-file\",\n      label: \"Save File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"save\", \"store\"],\n    },\n    {\n      id: \"search-files\",\n      label: \"Search Files\",\n      category: \"actions\",\n      icon: <SearchSmall className=\"h-4 w-4\" />,\n      keywords: [\"find\", \"search\"],\n    },\n    {\n      id: \"settings\",\n      label: \"Settings\",\n      category: \"actions\",\n      icon: <Settings className=\"h-4 w-4\" />,\n      keywords: [\"preferences\", \"config\"],\n    },\n    {\n      id: \"user-profile\",\n      label: \"User Profile\",\n      category: \"actions\",\n      icon: <UserSmall className=\"h-4 w-4\" />,\n      keywords: [\"account\", \"user\"],\n    },\n    {\n      id: \"new-folder\",\n      label: \"New Folder\",\n      category: \"files\",\n      icon: <Folder className=\"h-4 w-4\" />,\n      keywords: [\"directory\", \"create\"],\n    },\n    {\n      id: \"share-file\",\n      label: \"Share File\",\n      category: \"actions\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"share\", \"send\"],\n    },\n    {\n      id: \"export-data\",\n      label: \"Export Data\",\n      category: \"actions\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"export\", \"download\"],\n    },\n  ]\n\n  // Filter items based on active tab\n  const filteredItems =\n    activeTab === \"all\" ? allItems : allItems.filter((item) => item.category === activeTab)\n\n  // Group items by category for display\n  const groupedItems = filteredItems.reduce(\n    (acc, item) => {\n      if (!acc[item.category]) {\n        acc[item.category] = []\n      }\n      acc[item.category].push(item)\n      return acc\n    },\n    {} as Record<string, typeof allItems>,\n  )\n\n  const categoryLabels = {\n    files: \"Files\",\n    actions: \"Actions\",\n  }\n\n  return (\n    <div className=\"flex w-96 flex-col gap-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Tabbed Filtering:</div>\n        <ul className=\"space-y-1\">\n          <li>â€¢ Use tabs to quickly filter items by category</li>\n          <li>â€¢ &quot;All&quot; tab shows all items across categories</li>\n          <li>â€¢ Search works within the selected tab filter</li>\n          <li>â€¢ Use left and right arrow keys to cycle through tabs</li>\n          <li>\n            â€¢ Currently showing:{\" \"}\n            <strong>\n              {activeTab === \"all\"\n                ? \"All Items\"\n                : categoryLabels[activeTab as keyof typeof categoryLabels] || activeTab}\n            </strong>\n          </li>\n          <li>\n            â€¢ Items visible: <strong>{filteredItems.length}</strong>\n          </li>\n        </ul>\n      </div>\n\n      <Command\n        loop\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onKeyDown={(e) => {\n          // Cycle through tabs with left/right arrow keys\n          if (e.key === \"ArrowLeft\") {\n            setActiveTab(\n              activeTab === \"all\" ? \"actions\" : activeTab === \"actions\" ? \"files\" : \"all\",\n            )\n          } else if (e.key === \"ArrowRight\") {\n            setActiveTab(\n              activeTab === \"all\" ? \"files\" : activeTab === \"files\" ? \"actions\" : \"all\",\n            )\n          }\n        }}\n      >\n        <Command.Input\n          placeholder={`Search ${activeTab === \"all\" ? \"all items\" : activeTab}...`}\n          value={searchValue}\n          onChange={setSearchValue}\n        />\n        <Command.Tabs\n          value={activeTab}\n          onChange={setActiveTab}\n        >\n          <Command.TabItem value=\"all\">All ({allItems.length})</Command.TabItem>\n          <Command.TabItem value=\"files\">\n            Files ({allItems.filter((i) => i.category === \"files\").length})\n          </Command.TabItem>\n          <Command.TabItem value=\"actions\">\n            Actions ({allItems.filter((i) => i.category === \"actions\").length})\n          </Command.TabItem>\n        </Command.Tabs>\n\n        <Command.List className=\"h-64\">\n          <Command.Empty>No {activeTab === \"all\" ? \"items\" : activeTab} found.</Command.Empty>\n\n          {Object.entries(groupedItems).map(([category, items]) => (\n            <Command.Group\n              key={category}\n              heading={categoryLabels[category as keyof typeof categoryLabels] || category}\n            >\n              {items.map((item) => (\n                <Command.Item\n                  key={item.id}\n                  value={item.id}\n                  keywords={item.keywords}\n                  prefixElement={item.icon}\n                >\n                  <Command.Value>{item.label}</Command.Value>\n                </Command.Item>\n              ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n\n        <Command.Footer>\n          <div className=\"text-secondary-foreground\">\n            {activeTab === \"all\" ? \"Showing all categories\" : `Filtered by: ${activeTab}`}\n          </div>\n          <div className=\"text-secondary-foreground\">{filteredItems.length} items</div>\n        </Command.Footer>\n      </Command>\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "new"
  ]
}